(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ListaPrecios"],{1148:function(e,t,n){"use strict";var o=n("a691"),r=n("1d80");e.exports="".repeat||function(e){var t=String(r(this)),n="",a=o(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},"159b":function(e,t,n){var o=n("da84"),r=n("fdbc"),a=n("17c2"),i=n("9112");for(var c in r){var s=o[c],u=s&&s.prototype;if(u&&u.forEach!==a)try{i(u,"forEach",a)}catch(l){u.forEach=a}}},"17c2":function(e,t,n){"use strict";var o=n("b727").forEach,r=n("a640"),a=n("ae40"),i=r("forEach"),c=a("forEach");e.exports=i&&c?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},2532:function(e,t,n){"use strict";var o=n("23e7"),r=n("5a34"),a=n("1d80"),i=n("ab13");o({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(a(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var o=n("6eeb"),r=n("825a"),a=n("d039"),i=n("ad6d"),c="toString",s=RegExp.prototype,u=s[c],l=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=u.name!=c;(l||d)&&o(RegExp.prototype,c,(function(){var e=r(this),t=String(e.source),n=e.flags,o=String(void 0===n&&e instanceof RegExp&&!("flags"in s)?i.call(e):n);return"/"+t+"/"+o}),{unsafe:!0})},"408a":function(e,t,n){var o=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=o(e))throw TypeError("Incorrect invocation");return+e}},4160:function(e,t,n){"use strict";var o=n("23e7"),r=n("17c2");o({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"498a":function(e,t,n){"use strict";var o=n("23e7"),r=n("58a8").trim,a=n("c8d2");o({target:"String",proto:!0,forced:a("trim")},{trim:function(){return r(this)}})},"4d06":function(e,t,n){"use strict";var o=n("6f69"),r=n.n(o);r.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var o=n("1d80"),r=n("5899"),a="["+r+"]",i=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),s=function(e){return function(t){var n=String(o(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(c,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},"5a34":function(e,t,n){var o=n("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},"6f69":function(e,t,n){},7156:function(e,t,n){var o=n("861d"),r=n("d2bb");e.exports=function(e,t,n){var a,i;return r&&"function"==typeof(a=t.constructor)&&a!==n&&o(i=a.prototype)&&i!==n.prototype&&r(e,i),e}},8418:function(e,t,n){"use strict";var o=n("c04e"),r=n("9bf2"),a=n("5c6c");e.exports=function(e,t,n){var i=o(t);i in e?r.f(e,i,a(0,n)):e[i]=n}},"868f":function(e,t,n){"use strict";var o=n("572a"),r={obtenerDatosCP:function(e){return o["a"].get("/generales/codigoPostal/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerParametro:function(e){return o["a"].get("/generales/parametro/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerEmpresasCombo:function(){return o["a"].get("/empresas/combo").then((function(e){return console.log(e),e.data})).catch((function(e){return e}))}};t["a"]=r},"99af":function(e,t,n){"use strict";var o=n("23e7"),r=n("d039"),a=n("e8b5"),i=n("861d"),c=n("7b0b"),s=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),p=n("2d00"),h=f("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=p>=51||!r((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),b=d("concat"),C=function(e){if(!i(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)},y=!g||!b;o({target:"Array",proto:!0,forced:y},{concat:function(e){var t,n,o,r,a,i=c(this),d=l(i,0),f=0;for(t=-1,o=arguments.length;t<o;t++)if(a=-1===t?i:arguments[t],C(a)){if(r=s(a.length),f+r>m)throw TypeError(v);for(n=0;n<r;n++,f++)n in a&&u(d,f,a[n])}else{if(f>=m)throw TypeError(v);u(d,f++,a)}return d.length=f,d}})},"9feb":function(e,t,n){"use strict";var o=n("adad"),r=n.n(o);r.a},a9e3:function(e,t,n){"use strict";var o=n("83ab"),r=n("da84"),a=n("94ca"),i=n("6eeb"),c=n("5135"),s=n("c6b6"),u=n("7156"),l=n("c04e"),d=n("d039"),f=n("7c73"),p=n("241c").f,h=n("06cf").f,m=n("9bf2").f,v=n("58a8").trim,g="Number",b=r[g],C=b.prototype,y=s(f(C))==g,x=function(e){var t,n,o,r,a,i,c,s,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=v(u),t=u.charCodeAt(0),43===t||45===t){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+u}for(a=u.slice(2),i=a.length,c=0;c<i;c++)if(s=a.charCodeAt(c),s<48||s>r)return NaN;return parseInt(a,o)}return+u};if(a(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var I,S=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof S&&(y?d((function(){C.valueOf.call(n)})):s(n)!=g)?u(new b(x(t)),n,S):x(t)},k=o?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;k.length>w;w++)c(b,I=k[w])&&!c(S,I)&&m(S,I,h(b,I));S.prototype=C,C.constructor=S,i(r,g,S)}},ab13:function(e,t,n){var o=n("b622"),r=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},adad:function(e,t,n){},af70:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e._m(0),n("div",{staticClass:"row"},[0==e.items.length?n("div",{staticClass:"col-12 mt-3 text-center"},[e._m(1)]):e._e(),e.items.length>0?n("div",{staticClass:"col-12 my-3"},[n("b-table",{attrs:{items:e.items,responsive:"sm",fields:e.fields,striped:"",fixed:"",small:"","head-variant":"dark"},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){var o=t.item;return[n("button",{staticClass:"btn btn-primary btn-sm col-12",on:{click:function(t){return e.toggleDetails(o)}}},[e._v(" "+e._s(o._showDetails?"Ocultar":"Mostrar productos")+" ")])]}},{key:"cell(agregar_producto)",fn:function(t){var o=t.item;return[n("button",{staticClass:"btn btn-primary btn-sm col-12",on:{click:function(t){return e.agregarProductos(o)}}},[e._v(" Agregar Producto ")])]}},{key:"row-details",fn:function(t){var o=t.item,r=o.details,a=o.indice;return[r.length>0?n("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[n("table",{staticClass:"table table-striped table-sm"},[n("thead",{staticClass:"table-primary"},[n("tr",[n("th",{attrs:{scope:"col"}},[e._v("Producto")]),n("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v("Precio Sin Iva")]),n("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v("Precio Con Iva")]),n("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v("Iva")]),n("th",{attrs:{scope:"col"}})])]),n("tbody",e._l(r,(function(t,o){return n("tr",{key:o},[n("td",{staticClass:"font-14"},[n("b",[e._v(e._s(t.nomenclatura))]),e._v(" - "+e._s(t.descripcionProducto)+" ")]),n("td",{staticClass:"col-2"},[n("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:t.precioSinIva,expression:"producto.precioSinIva"}],staticClass:"form-control text-right",attrs:{maxlength:"9",disabled:t.disabled},domProps:{value:t.precioSinIva},on:{keypress:e.numerosDecimales,blur:function(t){return t.stopPropagation(),e.calculoSinIva(o,a,!1)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.calculoSinIva(o,a,!1)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.stopPropagation(),e.bloqTab(t))},input:function(n){n.target.composing||e.$set(t,"precioSinIva",n.target.value)}}})]),n("td",{staticClass:"col-2"},[n("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:t.precioConIva,expression:"producto.precioConIva"}],staticClass:"form-control text-right",attrs:{readonly:t.disabled,maxlength:"9"},domProps:{value:t.precioConIva},on:{keypress:e.numerosDecimales,blur:function(t){return t.stopPropagation(),e.calculoConIva(o,a,!1)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.calculoConIva(o,a,!1)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.stopPropagation(),e.bloqTab(t))},input:function(n){n.target.composing||e.$set(t,"precioConIva",n.target.value)}}})]),n("td",{staticClass:"col-2 text-right"},[n("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:t.iva,expression:"producto.iva"}],staticClass:"form-control text-right",attrs:{maxlength:"9",readonly:!0},domProps:{value:t.iva},on:{keypress:e.numerosDecimales,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.stopPropagation(),e.bloqTab(t))},input:function(n){n.target.composing||e.$set(t,"iva",n.target.value)}}})]),t.disabled?n("td",{staticClass:"text-center p-2",on:{click:function(t){return e.editItem(o,a)}}},[n("span",{staticClass:"icon-edit"},[n("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}})])]):e._e(),t.disabled?e._e():n("td",{staticClass:"text-center p-2",on:{click:function(n){return e.editItem(o,a,t)}}},[n("span",{staticClass:"icon-edit"},[n("i",{staticClass:"fa fa-save",attrs:{"aria-hidden":"true"}})])])])})),0)])]):e._e(),0==r.length?n("div",{staticClass:"alert alert-info pt-3 pb-0",attrs:{role:"alert"}},[n("div",{staticClass:"alert alert-warning text-center pt-1 pb-0",attrs:{role:"alert"}},[n("h5",[e._v("No hay productos asignados.")])])]):e._e()]}}],null,!1,234308317)})],1):e._e()]),n("b-modal",{attrs:{centered:"",size:"lg","hide-footer":""},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[0==e.nuevoProducto.length?n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("typeahead",{attrs:{"enabled-enter-search":!1,"min-car-length":e.minimoCaracteres,"input-label":"Buscar Producto: ","place-holder":"N2002012","data-source":e.datasource,"limpiar-control":e.limpiarControl},on:{selectitem:e.returnedItem}})],1)]):n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 text-center"},[n("label",{attrs:{for:""}},[n("b",[e._v(e._s(e.nuevoProducto.nomenclatura))])])]),n("div",{staticClass:"col-12 text-center"},[n("label",[e._v(" "+e._s(e.nuevoProducto.descripcion)+" ")])])]),n("div",{staticClass:"row my-2"},[n("div",{staticClass:"col-12 col-md-4"},[n("label",{attrs:{for:"precio"}},[e._v("Precio sin IVA:")]),n("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.productoSeleccionado.precioSinIva,expression:"productoSeleccionado.precioSinIva"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.productoSeleccionado.precioSinIva},on:{keypress:e.numerosDecimales,blur:function(t){return e.calculoSinIva(0,0,!0)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.calculoSinIva(0,0,!0)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.stopPropagation(),e.bloqTab(t))},input:function(t){t.target.composing||e.$set(e.productoSeleccionado,"precioSinIva",t.target.value)}}})]),n("div",{staticClass:"col-12 col-md-4"},[n("label",{attrs:{for:"precio"}},[e._v("Precio con IVA:")]),n("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.productoSeleccionado.precioConIva,expression:"productoSeleccionado.precioConIva"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.productoSeleccionado.precioConIva},on:{keypress:e.numerosDecimales,blur:function(t){return e.calculoConIva(0,0,!0)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.calculoConIva(0,0,!0)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.stopPropagation(),e.bloqTab(t))},input:function(t){t.target.composing||e.$set(e.productoSeleccionado,"precioConIva",t.target.value)}}})]),n("div",{staticClass:"col-12 col-md-4"},[n("label",{attrs:{for:"precio"}},[e._v("IVA:")]),n("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.productoSeleccionado.Iva,expression:"productoSeleccionado.Iva"}],staticClass:"form-control",attrs:{type:"text",readonly:!0},domProps:{value:e.productoSeleccionado.Iva},on:{input:function(t){t.target.composing||e.$set(e.productoSeleccionado,"Iva",t.target.value)}}})])]),n("div",{staticClass:"row text-right"},[n("div",{staticClass:"col-12 mt-3"},[n("button",{staticClass:"btn btn-sm btn-secondary col-12 col-md-3",on:{click:e.limpiarDatosProducto}},[e._v(" Cancelar ")]),n("button",{ref:"btnModalGuardar",staticClass:"btn btn-sm btn-primary col-12 col-md-3 ml-2",on:{click:e.guardarPrecioProducto}},[e._v(" Guardar ")])])])])])],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("h3",[n("i",{staticClass:"fas fa-clipboard-list"}),e._v(" Lista de Precios")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[n("h4",[e._v("No existen clientes asignados al Agente")])])}],a=(n("4de4"),n("4160"),n("caad"),n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("2532"),n("498a"),n("159b"),n("96cf"),n("1da1")),i=n("e845"),c=n("e6d6"),s=n("868f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.contentClass},[""!=e.inputLabel?n("label",[e._v(e._s(e.inputLabel))]):e._e(),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.buscar,expression:"buscar"}],ref:"inputTypeahead",staticClass:"form-control",class:{"is-invalid":e.error,"form-control-sm":e.sm},attrs:{type:"text",disabled:e.disabled||e.disabledInput,placeholder:[[e.placeHolder]]},domProps:{value:e.buscar},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearch(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.nextItem(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.nextItem(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideList(t)}],input:function(t){t.target.composing||(e.buscar=t.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-danger",class:{"btn-sm":e.sm},attrs:{type:"button",id:"btnLimpiar",title:"Limpiar busqueda"},on:{click:e.clear}},[n("i",{staticClass:"far fa-times-circle fa-lg"})])]),e.error?n("div",{staticClass:"invalid-feedback"},[e._v("Este campo es requerido")]):e._e()]),e.visible?n("ul",{ref:"searchList",staticClass:"vue-bootstrap-typeahead list-group"},e._l(e.items,(function(t,o){return n("li",{key:o,staticClass:"list-group-item font-12",class:{active:e.currentItem===o},on:{click:function(n){return e.selectItem(t)},key:o}},[e._v(" "+e._s(t.descripcion)+" ")])})),0):e._e()])},l=[],d=n("572a"),f={buscar:function(e){return d["a"].get(e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},p=f,h={data:function(){return{visible:!1,selected:!1,disabled:!1,currentItem:null,timeoutId:0,query:"",valueInterno:String,selectedItemInterno:null,items:[],buscar:"",error:!1}},props:{contentClass:{type:Array,defaultValue:["mb-3"]},sm:{type:Boolean},dataSource:{type:String},minCarLength:{type:Number},enabledEnterSearch:{type:Boolean},inputLabel:{type:String},placeHolder:{type:String},selectedItem:{type:Object},limpiarControl:{type:Boolean},disabledInput:{type:Boolean}},methods:{hideList:function(){this.items=[]},nextItem:function(){38===event.keyCode&&this.currentItem>=1?this.currentItem--:40===event.keyCode&&this.currentItem<=this.items.length&&this.currentItem++;var e=49*this.currentItem,t=this.$refs.searchList.scrollTop+this.$refs.searchList.clientHeight;e===this.$refs.searchList.scrollTop||e-this.$refs.searchList.scrollTop<=5?this.$refs.searchList.scrollTop=this.$refs.searchList.scrollTop-294:(e<this.$refs.searchList.scrollTop||e>t)&&(this.$refs.searchList.scrollTop=e-49)},enterSearch:function(){this.visible?this.selectItem():!0!==!this.enabledEnterSearch&&this.searchText(this.buscar)},searchText:function(e){if(!(""===e||!0===this.selected||e.length<=this.minCarLength)){var t=this;clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){p.buscar(t.dataSource+e).then((function(e){void 0!==e.data?(t.items=e.data,t.visible=!0):t.items=[]}))}),500)}},selectItem:function(e){if(void 0===e){if(!(this.items.length>0))return;e=this.items[this.currentItem]}this.visible=!1,this.selected=!0,this.query=e.descripcion,this.buscar=e.descripcion,this.disabled=!0,this.selectedItemInterno=e,this.valueInterno=this.buscar,this.$emit("input",this.valueInterno),this.$emit("selectitem",e)},clear:function(){this.selectedItemInterno=null,this.query="",this.buscar="",this.items=[],this.disabled=!1,this.selected=!1,this.valueInterno="",this.$refs.inputTypeahead.focus(),this.$emit("input",this.valueInterno),this.$emit("selectitem",null)}},watch:{buscar:function(e){!0!==this.enabledEnterSearch?this.searchText(e):this.visible=!1},items:function(e){e&&console.log(""),this.currentItem=0},limpiarControl:function(e){e&&this.clear()}}},m=h,v=(n("4d06"),n("2877")),g=Object(v["a"])(m,u,l,!1,null,null,null),b=g.exports,C={data:function(){return{precioAnterior:0,guardarCambioPrecioCte:!1,modalShow:!1,productoSeleccionadoBand:!1,nuevoProducto:[],fields:[{key:"cliente",label:"CLIENTES"},{key:"actions",label:""},{key:"agregar_producto",label:""}],items:[],productos:[],productosXCliente:[],productoSeleccionado:"",clienteSeleccionado:[],productoBuscar:"",editedUser:null,Iva:0,minimoCaracteres:2,datasource:"/dosificador/formulas/",limpiarControl:!1}},components:{Typeahead:b},computed:{filterStateProductos:function(){var e=this;return this.productos.filter((function(t){var n=t.nomenclatura.toString(),o=e.productoBuscar.trim().toUpperCase();return n.includes(o)}))}},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerParametro("Iva");case 2:e.Iva=t.sent,e.obtenerClientes(),e.cargarProductos(0);case 5:case"end":return t.stop()}}),t)})))()},created:function(){},methods:{bloqTab:function(e){var t=e.keyCode?e.keyCode:e.which;9==t&&e.preventDefault()},returnedItem:function(e){this.limpiarControl=!1,this.nuevoProducto=e},calculoSinIva:function(e,t,n){if(n){var o=this.productoSeleccionado.precioSinIva,r=o*(1+Number(this.Iva/100));this.productoSeleccionado.precioConIva=r.toFixed(2),this.productoSeleccionado.Iva=(r-o).toFixed(2),this.$refs["btnModalGuardar"].focus()}else{var a=Number(this.items[t].details[e].precioSinIva),i=a*(1+Number(this.Iva/100));this.$set(this.items[t],"_showDetails",!1),this.items[t].details[e].precioSinIva=a.toFixed(2),this.items[t].details[e].precioConIva=i.toFixed(2),this.items[t].details[e].iva=(i-a).toFixed(2),this.$set(this.items[t],"_showDetails",!0)}},calculoConIva:function(e,t,n){if(n){var o=this.productoSeleccionado.precioConIva,r=o*Number(this.Iva/100);console.log(o," -- ",r),this.productoSeleccionado.precioConIva=o.toFixed(2),this.productoSeleccionado.precioSinIva=(o-r).toFixed(2),this.productoSeleccionado.Iva=r.toFixed(2),this.$refs["btnModalGuardar"].focus()}else{this.$set(this.items[t],"_showDetails",!1);var a=Number(this.items[t].details[e].precioConIva),i=a/(1+Number(this.Iva/100));this.items[t].details[e].precioConIva=a.toFixed(2),this.items[t].details[e].precioSinIva=i.toFixed(2),this.items[t].details[e].iva=(a-i).toFixed(2),this.$set(this.items[t],"_showDetails",!0)}},editItem:function(e,t,n){var o=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a,c,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o.items[t].details[e].disabled){r.next=18;break}return a={codProductoXCliente:n.codigo,codCliente:n.codCliente,codProducto:n.codProducto,precioSinIva:n.precioSinIva,precioConIva:n.precioConIva,Iva:n.iva},r.next=4,o.$swal.fire({title:"¿Desea actualizar el precio del producto asignado al cliente?",showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 4:if(c=r.sent,!c.value){r.next=12;break}return r.next=8,i["a"].guardarPrecioProducto(a);case 8:s=r.sent,s.value?(o.modalShow=!1,o.clienteSeleccionado=[],o.mostrarListaProductos=!1,o.$set(o.items[t],"_showDetails",!1),o.items[t].details[e].disabled=!0,o.$set(o.items[t],"_showDetails",!0),o.$swal.fire({text:s.message,icon:"info"})):o.$swal.fire({text:s.message,icon:"info"}),r.next=16;break;case 12:o.$set(o.items[t],"_showDetails",!1),o.items[t].details[e].precioSinIva=o.precioAnterior,o.items[t].details[e].disabled=!0,o.$set(o.items[t],"_showDetails",!0);case 16:r.next=22;break;case 18:o.precioAnterior=o.items[t].details[e].precioSinIva,o.$set(o.items[t],"_showDetails",!1),o.items[t].details[e].disabled=!1,o.$set(o.items[t],"_showDetails",!0);case 22:case"end":return r.stop()}}),r)})))()},numerosDecimales:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&46!==t?e.preventDefault():this.disabled=!0},obtenerParametro:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].obtenerParametro(e);case 2:if(n=t.sent,!n.value){t.next=5;break}return t.abrupt("return",n.data.valor);case 5:case"end":return t.stop()}}),t)})))()},obtenerProductosXCliente:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.productosXCliente=[],n.next=3,i["a"].obtenerProductosXCliente(e);case 3:o=n.sent,o.value&&(t.productosXCliente=o.data);case 5:case"end":return n.stop()}}),n)})))()},agregarProductos:function(e){this.limpiarDatosProducto(),this.nuevoProducto=[],this.modalShow=!0,this.clienteSeleccionado=e,this.mostrarListaProductos=!0},obtenerProductos:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].obtenerFormulas(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},cancelarBusquedaPrecio:function(){this.mostrarListaProductos=!0,this.productoBuscar=""},SeleccionaProducto:function(e){this.productoSeleccionado=e,this.mostrarListaProductos=!1},guardarPrecioProducto:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,o,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={codProductoXCliente:0,codCliente:e.clienteSeleccionado.codigo,codProducto:e.nuevoProducto.codigo,precioSinIva:e.productoSeleccionado.precioSinIva,precioConIva:e.productoSeleccionado.precioConIva,Iva:e.productoSeleccionado.iva},t.next=3,e.$swal.fire({title:"¿Desea guardar el precio del producto asignado al cliente?",showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 3:if(o=t.sent,!o.value){t.next=25;break}return e.$loading(!0),t.next=8,i["a"].guardarPrecioProducto(n);case 8:if(r=t.sent,!r.value){t.next=22;break}return e.$loading(!1),t.next=13,e.$swal.fire({text:r.message,icon:"info"});case 13:return e.modalShow=!1,e.mostrarListaProductos=!1,e.$set(e.clienteSeleccionado,"_showDetails",!1),t.next=18,i["a"].obtenerProductosXCliente(e.clienteSeleccionado.codigo).catch((function(e){console.error("ha ocurrido un error",e)}));case 18:a=t.sent,a.data.length>0&&(c=a.data,e.clienteSeleccionado.details=c,e.nuevoProducto=[],e.limpiarDatosProducto(),e.$set(e.clienteSeleccionado,"_showDetails",!0)),t.next=24;break;case 22:e.$loading(!1),e.$swal.fire({text:r.message,icon:"info"});case 24:e.$loading(!1);case 25:case"end":return t.stop()}}),t)})))()},cargarProductos:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.$loading(!0),n.next=3,t.obtenerProductos(e);case 3:o=n.sent,o.value&&(t.$loading(!1),o.data.forEach((function(e){var n={value:e.codigo,text:e.descripcion,nomenclatura:e.nomenclatura};t.productos.push(n)}))),t.$loading(!1);case 6:case"end":return n.stop()}}),n)})))()},obtenerClientes:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,i["a"].obtenerClientes().then((function(t){console.log(t),e.$loading(!1);var n=t.data;t.data.forEach((function(e,t){n[t].cliente=e.nombreComercial})),e.items=n})).catch((function(t){e.$loading(!1),console.error(t)}));case 3:case"end":return t.stop()}}),t)})))()},toggleDetails:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.$loading(!0),!e._showDetails){n.next=5;break}t.$set(e,"_showDetails",!1),n.next=13;break;case 5:if(!e.details){n.next=9;break}t.$set(e,"_showDetails",!0),n.next=13;break;case 9:return n.next=11,i["a"].obtenerProductosXCliente(e.codigo).catch((function(e){console.error("ha ocurrido un error",e)}));case 11:o=n.sent,o&&(r=o.data,e.details=r,t.$set(e,"_showDetails",!0));case 13:t.$loading(!1);case 14:case"end":return n.stop()}}),n)})))()},limpiarDatosProducto:function(){this.productoSeleccionado={precioConIva:0,precioSinIva:0,iva:0}}}},y=C,x=(n("9feb"),Object(v["a"])(y,o,r,!1,null,"80f894de",null));t["default"]=x.exports},b680:function(e,t,n){"use strict";var o=n("23e7"),r=n("a691"),a=n("408a"),i=n("1148"),c=n("d039"),s=1..toFixed,u=Math.floor,l=function(e,t,n){return 0===t?n:t%2===1?l(e,t-1,n*e):l(e*e,t/2,n)},d=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},f=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){s.call({})}));o({target:"Number",proto:!0,forced:f},{toFixed:function(e){var t,n,o,c,s=a(this),f=r(e),p=[0,0,0,0,0,0],h="",m="0",v=function(e,t){var n=-1,o=t;while(++n<6)o+=e*p[n],p[n]=o%1e7,o=u(o/1e7)},g=function(e){var t=6,n=0;while(--t>=0)n+=p[t],p[t]=u(n/e),n=n%e*1e7},b=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var n=String(p[e]);t=""===t?n:t+i.call("0",7-n.length)+n}return t};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(h="-",s=-s),s>1e-21)if(t=d(s*l(2,69,1))-69,n=t<0?s*l(2,-t,1):s/l(2,t,1),n*=4503599627370496,t=52-t,t>0){v(0,n),o=f;while(o>=7)v(1e7,0),o-=7;v(l(10,o,1),0),o=t-1;while(o>=23)g(1<<23),o-=23;g(1<<o),v(1,1),g(2),m=b()}else v(0,n),v(1<<-t,0),m=b()+i.call("0",f);return f>0?(c=m.length,m=h+(c<=f?"0."+i.call("0",f-c)+m:m.slice(0,c-f)+"."+m.slice(c-f))):m=h+m,m}})},c8d2:function(e,t,n){var o=n("d039"),r=n("5899"),a="​᠎";e.exports=function(e){return o((function(){return!!r[e]()||a[e]()!=a||r[e].name!==e}))}},caad:function(e,t,n){"use strict";var o=n("23e7"),r=n("4d64").includes,a=n("44d2"),i=n("ae40"),c=i("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:!c},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},e6d6:function(e,t,n){"use strict";n("99af");var o=n("572a"),r={obtenerUltimoFolioGinco:function(){return o["a"].get("/dosificador/ultimo-folio-ginco").then((function(e){return e.data})).catch((function(e){return e}))},obtenerNotasRemisionCanceladas:function(){return o["a"].get("/dosificador/notasRemision-canceladas").then((function(e){return e.data})).catch((function(e){return e}))},obtenerUltimoFolioNR:function(){return o["a"].get("/dosificador/ultimo-folio-notaRemision").then((function(e){return e.data})).catch((function(e){return e}))},agentesClientes:function(e){return o["a"].get("/agentes/clientes/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerFormulas:function(e){return o["a"].get("/dosificador/formulas/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerPedido:function(e){return o["a"].get("/dosificador/folio-pedido/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},verificarPedido:function(e){return o["a"].get("/dosificador/verificar-notasRemision-pedido/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerOperadores:function(e){return o["a"].get("/dosificador/operadores/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerOperadoresCamionRevolvedor:function(){return o["a"].get("/dosificador/operadores-camion-revolvedor").then((function(e){return e.data})).catch((function(e){return e}))},obtenerOperadoresCamionBombeable:function(){return o["a"].get("/dosificador/operadores-camion-bombeable").then((function(e){return e.data})).catch((function(e){return e}))},obtenerObras:function(e){return o["a"].get("/dosificador/obras-clientes/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerEquipo:function(e,t){return o["a"].get("/dosificador/equipo-operador/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerNotasEspecialRelacionadas:function(e,t){return o["a"].get("/dosificador/notasRemision-especial/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerPdfNotaRemision:function(e){return o["a"].get("/dosificador/notaRemision/pdf/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},guardarNotaRemision:function(e,t){return o["a"].post("/dosificador/notaRemision/guardar",e,t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},agregarNotaRemisionEspecial:function(e){return o["a"].post("/dosificador/notaRemision/agregar-nota",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},cancelarNotaRemision:function(e){return o["a"].post("/dosificador/notaRemision/cancelar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarFormula:function(e){return o["a"].post("/dosificador/formula/guardar",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarProductosFormula:function(e,t){return o["a"].post("/dosificador/productos-formula/guardar",{productos:e,modificarDatos:t},{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}};t["a"]=r},e845:function(e,t,n){"use strict";n("99af");var o=n("572a"),r={agentesCombo:function(){return o["a"].get("/agentes/todosCombo").then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerPedidosAgente:function(){return o["a"].get("/agentes/pedidos").then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerClientes:function(e){return o["a"].get("/agentes/clientes/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerProductosXCliente:function(e,t){return o["a"].get("/agentes/productos-cliente/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerDetalleNotasRemisionAgente:function(e){return o["a"].get("/agentes/notas-remision-detalle/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarPrecioProducto:function(e){return o["a"].post("/agentes/guardar-precio-productoXCliente",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}};t["a"]=r},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=ListaPrecios.ed1d931b.js.map