{"version":3,"sources":["webpack:///./src/views/comisiones/GenerarReporteComisiones.vue?9961","webpack:///src/views/comisiones/GenerarReporteComisiones.vue","webpack:///./src/views/comisiones/GenerarReporteComisiones.vue?6c7b","webpack:///./src/views/comisiones/GenerarReporteComisiones.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","language","model","value","callback","$$v","fechaInicial","expression","fechaFinal","directives","name","rawName","class","hasError","hasErrorOperadorCR","operadorCR","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","tipoEmpleadoSeleccionado","multiple","_l","opcion","key","domProps","_s","text","GenerarReporte","staticRenderFns","data","cmbTipoEmpleado","Date","mounted","restarDias","ObtenerTiposEmpleados","components","Datepicker","methods","fecha","setDate","getDate","dias","component"],"mappings":"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","file":"js/ReporteComisiones.af4d31f9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._m(0),_c('div',{staticClass:\"row mt-3\"},[_c('div',{staticClass:\"form-group col-4\"},[_c('label',[_vm._v(\"Desde:\")]),_c('datepicker',{attrs:{\"id\":\"fechaInicial\",\"language\":_vm.language,\"input-class\":\"form-control\",\"format\":\"dd/MMM/yyyy\",\"calendar-button-icon\":\"fa fa-calendar\",\"calendar-button\":true,\"bootstrap-styling\":true,\"use-utc\":true},model:{value:(_vm.fechaInicial),callback:function ($$v) {_vm.fechaInicial=$$v},expression:\"fechaInicial\"}})],1),_c('div',{staticClass:\"form-group col-4\"},[_c('label',[_vm._v(\"Hasta:\")]),_c('datepicker',{attrs:{\"id\":\"fechaFinal\",\"language\":_vm.language,\"input-class\":\"form-control\",\"format\":\"dd/MMM/yyyy\",\"calendar-button-icon\":\"fa fa-calendar\",\"calendar-button\":true,\"bootstrap-styling\":true,\"use-utc\":true},model:{value:(_vm.fechaFinal),callback:function ($$v) {_vm.fechaFinal=$$v},expression:\"fechaFinal\"}})],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"form-group col-sm-12 col-md-4\"},[_c('label',[_vm._v(\"Tipo de Empleado:\")]),_c('div',{staticClass:\"input-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tipoEmpleadoSeleccionado),expression:\"tipoEmpleadoSeleccionado\"}],staticClass:\"form-control\",class:{ hasError: _vm.hasErrorOperadorCR },attrs:{\"disabled\":_vm.operadorCR},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.tipoEmpleadoSeleccionado=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.cmbTipoEmpleado),function(opcion){return _c('option',{key:opcion.value,domProps:{\"value\":opcion.value}},[_vm._v(\" \"+_vm._s(opcion.text)+\" \")])}),0)])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"form-group col-sm-12 col-md-4 mb-2\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.GenerarReporte}},[_vm._v(\"Generar Reporte\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('h3',[_c('i',{staticClass:\"fa fa-percent\"}),_vm._v(\" Reporte de Comisiones\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <h3><i class=\"fa fa-percent\"></i> Reporte de Comisiones</h3>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row mt-3\">\r\n      <div class=\"form-group col-4\">\r\n        <label>Desde:</label>\r\n        <datepicker\r\n          id=\"fechaInicial\"\r\n          v-model=\"fechaInicial\"\r\n          :language=\"language\"\r\n          input-class=\"form-control\"\r\n          format=\"dd/MMM/yyyy\"\r\n          calendar-button-icon=\"fa fa-calendar\"\r\n          :calendar-button=\"true\"\r\n          :bootstrap-styling=\"true\"\r\n          :use-utc=\"true\"\r\n        >\r\n        </datepicker>\r\n      </div>\r\n      <div class=\"form-group col-4\">\r\n        <label>Hasta:</label>\r\n        <datepicker\r\n          id=\"fechaFinal\"\r\n          v-model=\"fechaFinal\"\r\n          :language=\"language\"\r\n          input-class=\"form-control\"\r\n          format=\"dd/MMM/yyyy\"\r\n          calendar-button-icon=\"fa fa-calendar\"\r\n          :calendar-button=\"true\"\r\n          :bootstrap-styling=\"true\"\r\n          :use-utc=\"true\"\r\n        >\r\n        </datepicker>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"form-group col-sm-12 col-md-4\">\r\n        <label>Tipo de Empleado:</label>\r\n        <div class=\"input-group\">\r\n          <!-- <select\r\n            class=\"form-control\"\r\n            id=\"exampleFormControlSelect1\"\r\n          >\r\n            <option\r\n              v-for=\"opcion of cmbTipoEmpleado\"\r\n              :value=\"opcion.codigo\"\r\n              v-bind:key=\"opcion.codigo\"\r\n            >\r\n              {{ opcion.descripcion }}\r\n            </option>\r\n          </select> -->\r\n          <select\r\n            class=\"form-control\"\r\n            :disabled=\"operadorCR\"\r\n            v-model=\"tipoEmpleadoSeleccionado\"\r\n            v-bind:class=\"{ hasError: hasErrorOperadorCR }\"\r\n          >\r\n            <option\r\n              v-for=\"opcion of cmbTipoEmpleado\"\r\n              :value=\"opcion.value\"\r\n              v-bind:key=\"opcion.value\"\r\n            >\r\n              {{ opcion.text }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"form-group col-sm-12 col-md-4 mb-2\">\r\n        <button class=\"btn btn-primary\" @click=\"GenerarReporte\">Generar Reporte</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Datepicker from \"vuejs-datepicker\";\r\nimport { es } from \"vuejs-datepicker/dist/locale\";\r\nimport servicioComisiones from \"@/services/servicio-comisiones\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      tipoEmpleadoSeleccionado: 0,\r\n      language: es,\r\n      cmbTipoEmpleado: [{ value: 0, text: \"Seleccione un tipo\" }],\r\n      fechaInicial: new Date(\r\n        new Date().getFullYear(),\r\n        new Date().getMonth(),\r\n        new Date().getDate()\r\n      ),\r\n      fechaFinal: new Date(\r\n        new Date().getFullYear(),\r\n        new Date().getMonth(),\r\n        new Date().getDate()\r\n      ),\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fechaInicial = this.restarDias(new Date(), -7);\r\n    this.fechaFinal = this.restarDias(new Date(), -1);\r\n    this.ObtenerTiposEmpleados();\r\n  },\r\n  components: {\r\n    Datepicker,\r\n  },\r\n  methods: {\r\n    restarDias: function (fecha, dias) {\r\n      fecha.setDate(fecha.getDate() + dias);\r\n      return fecha;\r\n    },\r\n\r\n    async GenerarReporte() {\r\n      if (this.tipoEmpleadoSeleccionado > 0) {\r\n        this.$loading(true);\r\n        let r = await servicioComisiones.rptComisiones(\r\n          this.fechaInicial,\r\n          this.fechaFinal,\r\n          this.tipoEmpleadoSeleccionado\r\n        );\r\n        this.$loading(false);\r\n        if (r.value) {\r\n          this.ImprimirReporteEntradasSalidas(r.data);\r\n        }\r\n      } else {\r\n        this.$swal.fire({\r\n          text: \"Seleccione un tipo\",\r\n          icon: \"info\",\r\n        });\r\n      }\r\n    },\r\n\r\n    async ObtenerTiposEmpleados() {\r\n      await servicioComisiones.tiposEmpleados().then((r) => {\r\n        if (r.value) {\r\n          r.data.forEach((element) => {\r\n            let tipo = { value: element.codigo, text: element.descripcion };\r\n            this.cmbTipoEmpleado.push(tipo);\r\n          });\r\n        }\r\n      });\r\n    },\r\n    async ImprimirReporteEntradasSalidas(pdfResult) {\r\n      const downloadLink = document.createElement(\"a\");\r\n      const fileName = \"Reporte de Comisiones\";\r\n      downloadLink.href = \"data:application/pdf;base64,\" + pdfResult;\r\n      downloadLink.download = fileName;\r\n      await downloadLink.click();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerarReporteComisiones.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerarReporteComisiones.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GenerarReporteComisiones.vue?vue&type=template&id=964ea8fe&\"\nimport script from \"./GenerarReporteComisiones.vue?vue&type=script&lang=js&\"\nexport * from \"./GenerarReporteComisiones.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}