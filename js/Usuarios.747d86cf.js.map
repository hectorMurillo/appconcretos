{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./src/views/catalogos/usuarios/Usuarios.vue?e7a6","webpack:///src/views/catalogos/usuarios/Usuarios.vue","webpack:///./src/views/catalogos/usuarios/Usuarios.vue?815c","webpack:///./src/views/catalogos/usuarios/Usuarios.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/services/servicio-empleados.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","render","_vm","_h","$createElement","_c","_self","staticClass","_m","attrs","directives","name","rawName","modifiers","_v","items","fields","ref","on","handleOk","$event","stopPropagation","preventDefault","guardarUsuario","empleadosCombo","actualizaDatosUsuario","model","value","callback","$$v","selectedEmpleado","expression","usuarioModel","$set","confirmarContrasena","contrasena","_e","staticRenderFns","setTimeout","component","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","servicio","base","get","then","r","console","log","data","catch","codPersonal","empleado","post","headers","e","codTipo","codEmpleado","codTipoEmpleado","tipoEquipo"],"mappings":"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","file":"js/Usuarios.747d86cf.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container my-5\"},[_vm._m(0),_c('b-row',[_c('b-col',{attrs:{\"md\":\"3\",\"offset-md\":\"8\"}},[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-usuario\",modifiers:{\"modal-usuario\":true}}],staticClass:\"btn btn-sm py-1 btn-block\",attrs:{\"variant\":\"primary\"}},[_c('i',{staticClass:\"fa fa-plus\"}),_vm._v(\" Nuevo \")])],1)],1),_c('table-sortable',{attrs:{\"items\":_vm.items,\"fields\":_vm.fields}}),_c('b-modal',{ref:\"modal\",attrs:{\"id\":\"modal-usuario\",\"title\":\"Registro usuario\",\"centered\":\"\"},on:{\"ok\":_vm.handleOk}},[_c('form',{ref:\"form\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.guardarUsuario($event)}}},[_c('b-form-group',{attrs:{\"label\":\"Empleado\",\"label-for\":\"cboEmpleado\",\"invalid-feedback\":\"Campo requerido\"}},[_c('b-form-select',{staticClass:\"mt-3\",attrs:{\"id\":\"cboEmpleado\",\"options\":_vm.empleadosCombo,\"size\":\"sm\"},on:{\"change\":_vm.actualizaDatosUsuario},model:{value:(_vm.selectedEmpleado),callback:function ($$v) {_vm.selectedEmpleado=$$v},expression:\"selectedEmpleado\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Usuario\",\"label-for\":\"txtUsuario\",\"invalid-feedback\":\"Campo requerido\"}},[_c('b-form-input',{attrs:{\"id\":\"txtUsuario\",\"required\":\"\",\"autocomplete\":\"off\"},model:{value:(_vm.usuarioModel.usuario),callback:function ($$v) {_vm.$set(_vm.usuarioModel, \"usuario\", $$v)},expression:\"usuarioModel.usuario\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Contraseña\",\"label-for\":\"txtContrasena\",\"invalid-feedback\":\"Campo requerido\"}},[_c('b-form-input',{attrs:{\"id\":\"txtContrasena\",\"required\":\"\",\"type\":\"password\",\"autocomplete\":\"new-password\"},model:{value:(_vm.usuarioModel.contrasena),callback:function ($$v) {_vm.$set(_vm.usuarioModel, \"contrasena\", $$v)},expression:\"usuarioModel.contrasena\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Confirmar contraseña\",\"label-for\":\"txtContrasenaConfirmacion\",\"invalid-feedback\":\"Campo requerido\"}},[_c('b-form-input',{attrs:{\"id\":\"txtContrasenaConfirmar\",\"required\":\"\",\"type\":\"password\",\"autocomplete\":\"new-password\"},model:{value:(_vm.usuarioModel.confirmarContrasena),callback:function ($$v) {_vm.$set(_vm.usuarioModel, \"confirmarContrasena\", $$v)},expression:\"usuarioModel.confirmarContrasena\"}})],1),(_vm.usuarioModel.confirmarContrasena != _vm.usuarioModel.contrasena)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(\" Las contraseñas no coinciden \")]):_vm._e()],1)])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-1\"},[_c('h3',[_c('i',{staticClass:\"fas fa-users\"}),_vm._v(\" Usuarios\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>   \r\n    <!-- <Header v-if=\"mostrarHeader\"></Header> \r\n    <router-view @tokenValido=\"tokenValido\"></router-view> -->\r\n    <div class=\"container my-5\">\r\n        <div class=\"my-1\">\r\n            <h3><i class=\"fas fa-users\"></i> Usuarios</h3>\r\n        </div>\r\n        <b-row>\r\n            <b-col md=\"3\" offset-md=\"8\">\r\n              <!-- @click=\"redirect\"\r\n                v-if=\"permisoEscritura && rutaNuevo.length > 0\" -->\r\n                <b-button\r\n                v-b-modal.modal-usuario\r\n                variant=\"primary\"\r\n                class=\"btn btn-sm py-1 btn-block\"\r\n                >\r\n                <i class=\"fa fa-plus\"></i> Nuevo\r\n                </b-button>\r\n            </b-col>\r\n        </b-row>\r\n        <table-sortable :items=\"items\"\r\n                        :fields=\"fields\">\r\n        </table-sortable>\r\n        <b-modal\r\n            id=\"modal-usuario\"\r\n            ref=\"modal\"\r\n            title=\"Registro usuario\"\r\n            centered \r\n            @ok=\"handleOk\"\r\n            >\r\n             <!-- FORMULARIO MODAL-->\r\n            <form ref=\"form\" @submit.stop.prevent=\"guardarUsuario\">\r\n                <b-form-group\r\n                label=\"Empleado\"\r\n                label-for=\"cboEmpleado\"\r\n                invalid-feedback=\"Campo requerido\"\r\n                >\r\n                <b-form-select id=\"cboEmpleado\" \r\n                v-model=\"selectedEmpleado\" \r\n                :options=\"empleadosCombo\" \r\n                size=\"sm\" class=\"mt-3\"\r\n                @change=\"actualizaDatosUsuario\">\r\n                </b-form-select>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                label=\"Usuario\"\r\n                label-for=\"txtUsuario\"\r\n                invalid-feedback=\"Campo requerido\"\r\n                \r\n                >\r\n                <b-form-input\r\n                    id=\"txtUsuario\"\r\n                    v-model=\"usuarioModel.usuario\"\r\n                    \r\n                    required\r\n                    autocomplete=\"off\"\r\n                ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                label=\"Contraseña\"\r\n                label-for=\"txtContrasena\"\r\n                invalid-feedback=\"Campo requerido\"\r\n                \r\n                >\r\n                <b-form-input\r\n                    id=\"txtContrasena\"\r\n                    v-model=\"usuarioModel.contrasena\"\r\n                    \r\n                    required\r\n                    type=\"password\"\r\n                    autocomplete=\"new-password\"\r\n                ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                label=\"Confirmar contraseña\"\r\n                label-for=\"txtContrasenaConfirmacion\"\r\n                invalid-feedback=\"Campo requerido\"\r\n                >\r\n                <b-form-input\r\n                    id=\"txtContrasenaConfirmar\"\r\n                    v-model=\"usuarioModel.confirmarContrasena\"\r\n                    \r\n                    required\r\n                    type=\"password\"\r\n                    autocomplete=\"new-password\"\r\n                    \r\n                ></b-form-input>\r\n                </b-form-group>\r\n                <div v-if=\"usuarioModel.confirmarContrasena != usuarioModel.contrasena\" class=\"alert alert-danger\" role=\"alert\">\r\n                    Las contraseñas no coinciden\r\n                </div>\r\n            </form>\r\n        </b-modal>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport TableSortable from \"@/components/TableSortable\"\r\nimport servicio from '@/services/servicio-usuarios'\r\nimport servicioEmpleados from '@/services/servicio-empleados'\r\n\r\n    export default{   \r\n      data(){\r\n        return{\r\n            empleadosSinUsuario:[\r\n\r\n            ],\r\n            items: [],\r\n            fields: [\r\n              { key: 'usuario', label: 'Usuario', sortable: true, class: 'text-center' },\r\n              { key: 'nombreCompleto', label: 'Nombre', sortable: true, sortDirection: 'desc' },\r\n              { key: 'tipoEmpleado', label: 'Tipo Empleado', sortable: true, sortDirection: 'desc' },\r\n              { key: 'fechaUltimaConexion', label: 'Ultima Conexión', sortable: true, sortDirection: 'desc' },\r\n              { key: 'actionsUsuarios', label: '', sortable: true, class: 'text-center' },\r\n            ],\r\n             modalInfo: {\r\n                id: 'modal',\r\n                title: '',\r\n                content: '',\r\n                codigo:'',\r\n                disabled:false\r\n            },\r\n            empleadosCombo:[{value:null, disable:true, text:'Seleccione un empleado...'}],\r\n            selectedEmpleado:null,\r\n            usuarioModel:{\r\n                usuario:'',\r\n                contrasena:'',\r\n                confirmarContrasena:'',\r\n                codEmpleado:null\r\n                \r\n            },\r\n            confirmaContra:'',\r\n        }\r\n      },      \r\n      components:{\r\n        TableSortable\r\n      },\r\n      mounted(){\r\n        this.cargaEmpleadosNoUsuarios();\r\n        this.$loading(true);\r\n        // if(this.verificaTokenValido()){          \r\n        servicio.usuarios()\r\n        .then(r=> {    \r\n            this.items = r.data;\r\n       // console.log(this.items);\r\n            return r.data\r\n        }).catch(error=>{\r\n            console.log(error);\r\n        });     \r\n        \r\n        servicioEmpleados.empleados()\r\n        .then(r=>{\r\n            if(r.value){\r\n                this.empleadosSinUsuario = r.data\r\n                //console.log(\"data ->  \", r.data)\r\n                r.data.forEach(e=>{\r\n                    if(e.usuario == \"\"){\r\n                        let empleado = { value: e.codigo, text: e.nombre+\" \"+e.apellidoP+\" \"+e.apellidoM}\r\n                        this.empleadosCombo.push(empleado);\r\n                    }\r\n                })\r\n            }\r\n        })\r\n        \r\n        \r\n        \r\n        this.$loading(false);\r\n          // this.verificaPermiso(\"equipos\");\r\n        // }                \r\n      },\r\n        \r\n        methods:{\r\n            actualizaDatosUsuario(){\r\n                this.usuarioModel.codEmpleado = this.selectedEmpleado;\r\n                this.usuarioModel.usuario = this.empleadosSinUsuario.find(x=>x.codigo==this.selectedEmpleado).correo\r\n            },\r\n            modal(){\r\n                this.modalInfo.title = \"Registro de usuario\";\r\n                this.$root.$emit(\"bv::show::modal-usuario\")\r\n            },\r\n            handleOk(bvModalEvt) {\r\n                // Prevent modal from closing\r\n                bvModalEvt.preventDefault()\r\n                // Trigger submit handler\r\n                this.guardarUsuario()\r\n            },\r\n            \r\n            async guardarUsuario(){\r\n                this.$loading(true);\r\n                this.$nextTick(() => {\r\n                    this.$bvModal.hide('modal-usuario')\r\n                })\r\n                await servicio.guardarUsuario(this.usuarioModel).then(r=>{\r\n                    if(r.value){\r\n                        this.$swal.fire({\r\n                            text: `El Usuario se ha guardado exitosamente!`,\r\n                            icon: \"success\"\r\n                        });\r\n                        let this_=this;\r\n                    setTimeout(function(){this_.$router.go()}, 1500)\r\n                    //this.$router.go()\r\n                    }\r\n                    else{\r\n                        this.$swal.fire({\r\n                            text: r.message,\r\n                            icon: \"warning\"\r\n                        })\r\n                    }\r\n\r\n                });\r\n                this.$loading(false);\r\n            },\r\n            cargaEmpleadosNoUsuarios(){\r\n             this.$loading(true);\r\n                servicio.empleadosNoUsuario().then((r) => {\r\n                    console.log(r);\r\n                r.forEach((x) => {\r\n                    console.log(x.codigo);\r\n                   this.empleadosCombo.push({ value: x.codigo ,\r\n                                            text: x.nombre +' '+ x.apellidoP +' '+ x.apellidoM});\r\n                    this.$loading(false);\r\n         \r\n         })\r\n        })\r\n    },\r\n        } \r\n    }\r\n</script>\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Usuarios.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Usuarios.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Usuarios.vue?vue&type=template&id=4bbd603d&scoped=true&\"\nimport script from \"./Usuarios.vue?vue&type=script&lang=js&\"\nexport * from \"./Usuarios.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bbd603d\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","import base from '@/services/servicio-base'\r\n\r\nconst servicio = {}\r\n\r\n//............................................................ \r\n//                    E M P L E A D O S\r\n//............................................................\r\nservicio.empleados = () => {\r\n    return base.get(`/empleados/todos`)\r\n        .then(r => {\r\n            console.log(r.data);\r\n            return r.data;\r\n        })\r\n        .catch(error => {\r\n            return error;\r\n        })\r\n}\r\n\r\nservicio.obtenerPersonalCargaDiesel = (codPersonal) => {\r\n    codPersonal = codPersonal == null || codPersonal == undefined || codPersonal == 0 ? 0 : codPersonal\r\n    return base.get(`/empleados/personalCargaDiesel/${codPersonal}`)\r\n        .then(r => {\r\n            return r.data;\r\n        })\r\n        .catch(error => {\r\n            return error;\r\n        })\r\n}\r\n\r\nservicio.tipos = () => {\r\n    return base.get(`/empleados/tipos`)\r\n        .then(r => {\r\n            // console.log(r);\r\n            return r.data;\r\n        })\r\n        .catch(error => {\r\n            return error;\r\n        })\r\n}\r\n\r\nservicio.tiposUtilizados = () => {\r\n    return base.get(`/empleados/tiposUtilizados`)\r\n        .then(r => {\r\n            // console.log(r);\r\n            return r.data;\r\n        })\r\n        .catch(error => {\r\n            return error;\r\n        })\r\n}\r\n\r\nservicio.guardarEmpleado = (empleado) => {\r\n\r\n    return base.post(\"/empleados/guardar\", empleado, {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(r => {\r\n            return r.data\r\n        })\r\n        .catch(e => {\r\n            console.log(e);\r\n        })\r\n}\r\n\r\nservicio.subtipo = (codTipo) => {\r\n    return base.post(\"/empleados/SubTipos\", { \"codTipo\": codTipo }, {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(r => {\r\n            console.log(\"SUBTIPOSSS-> \", r);\r\n            return r.data\r\n        })\r\n        .catch(e => {\r\n            console.log(e);\r\n        })\r\n}\r\n\r\nservicio.obtenerEmpleado = (codEmpleado) => {\r\n    // console.log(codEmpleado);\r\n    return base.get(`/Empleados/${codEmpleado}`)\r\n        .then(r => {\r\n            // console.log(r);\r\n            return r.data;\r\n        })\r\n        .catch(error => {\r\n            return error;\r\n        })\r\n}\r\n\r\nservicio.tiposEmpleado = (codTipoEmpleado) => {\r\n    codTipoEmpleado = codTipoEmpleado == null || codTipoEmpleado == undefined ? 0 : codTipoEmpleado\r\n    return base.get(`/empleados/tiposEmpleado/${codTipoEmpleado}`)\r\n        .then(r => {\r\n            return r.data;\r\n        })\r\n        .catch(error => {\r\n            return error;\r\n        })\r\n}\r\n\r\nservicio.guardarTipoEmpleado = (tipoEquipo) => {\r\n    return base.post(\"/empleados/guardar/tipoEmpleado\", tipoEquipo, {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(r => {\r\n            return r.data;\r\n        })\r\n        .catch(error => {\r\n            return error;\r\n        })\r\n}\r\n\r\nexport default servicio"],"sourceRoot":""}