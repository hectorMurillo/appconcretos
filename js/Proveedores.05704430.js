(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Proveedores"],{"0ddd":function(t,e,r){},"6aa8":function(t,e,r){"use strict";var o=r("0ddd"),a=r.n(o);a.a},8418:function(t,e,r){"use strict";var o=r("c04e"),a=r("9bf2"),n=r("5c6c");t.exports=function(t,e,r){var i=o(e);i in t?a.f(t,i,n(0,r)):t[i]=r}},"99af":function(t,e,r){"use strict";var o=r("23e7"),a=r("d039"),n=r("e8b5"),i=r("861d"),s=r("7b0b"),c=r("50c4"),l=r("8418"),u=r("65f0"),d=r("1dde"),f=r("b622"),m=r("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",h=m>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=d("concat"),C=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)},w=!h||!g;o({target:"Array",proto:!0,forced:w},{concat:function(t){var e,r,o,a,n,i=s(this),d=u(i,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(n=-1===e?i:arguments[e],C(n)){if(a=c(n.length),f+a>v)throw TypeError(b);for(r=0;r<a;r++,f++)r in n&&l(d,f,n[r])}else{if(f>=v)throw TypeError(b);l(d,f++,n)}return d.length=f,d}})},d0e6:function(t,e,r){"use strict";var o=r("572a"),a={proveedores:function(t){return null==t||void 0==t||0==t?o["a"].get("/proveedores/todos").then((function(t){return t.data})).catch((function(t){return t})):(console.log(t),o["a"].get("/proveedores/".concat(t)).then((function(t){return t.data})).catch((function(t){return t})))},guardarProveedor:function(t){return o["a"].post("/proveedores/guardar",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){console.log(t)}))},contactos:function(t){return o["a"].get("/ContactosProv/".concat(t)).then((function(t){return t.data})).catch((function(t){return t}))},Contacto:function(t){return o["a"].get("/ContactosProv/contacto/".concat(t)).then((function(t){return t.data})).catch((function(t){return t}))},ContactoGuardar:function(t){return o["a"].post("/ContactosProv/guardar",t,{headers:{"content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){return t}))},DesactivarProveedor:function(t){return o["a"].post("/proveedores/desactivar",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){console.log(t)}))},DesactivarContacto:function(t){return o["a"].post("/ContactosProv/desactivar",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){console.log(t)}))}};e["a"]=a},d2ff:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container mt-3"},[r("div",{staticClass:"mt-3"},[t._m(0),r("div",[r("b-row",{staticClass:"my-2"},[r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[r("b-input-group",{attrs:{size:"sm"}},[r("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),r("b-input-group-append",[r("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[r("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),r("b-col",{attrs:{md:"3"}},[r("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[r("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),r("b-col",{attrs:{md:"3","offset-md":"2"}},[r("b-button",{staticClass:"btn btn-sm py-1 mt-1 btn-block",attrs:{variant:"primary"},on:{click:t.redirect}},[r("i",{staticClass:"fa fa-plus"}),t._v(" Nuevo ")])],1)],1),r("b-table",{attrs:{small:"",striped:"",bordered:"",stacked:"md","head-variant":"dark",items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,filterIncludedFields:t.filterOn},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(acciones)",fn:function(e){return[r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"primary",title:"Contactos"},on:{click:function(r){return t.redirectContacto(e.item.idProveedor)}}},[r("i",{staticClass:"fa fa-user-friends"})]),r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"info",title:"Cuentas"},on:{click:function(r){return t.redirectCuenta(e.item.idProveedor)}}},[r("i",{staticClass:"fas fa-credit-card"})]),r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}},{name:"b-modal",rawName:"v-b-modal.modalInfoProveedor",modifiers:{modalInfoProveedor:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"outline-info",title:"Ver detalle"},on:{click:function(r){return t.cargarDatosProveedor(e.item.idProveedor)}}},[r("i",{staticClass:"fas fa-eye"})]),r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"outline-info",title:"Editar"},on:{click:function(r){return t.redirectEditar(e.item.idProveedor)}}},[r("i",{staticClass:"fas fa-edit"})]),r("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"danger",title:"Desactivar"},on:{click:function(r){return t.desactivar(e.item.idProveedor)}}},[r("i",{staticClass:"fa fa-times"})])]}}])}),r("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"center","aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),r("b-modal",{attrs:{id:"modalInfoProveedor",title:"Detalles del proveedor","hide-footer":""}},[r("b-card",{attrs:{"border-variant":"light"}},[r("b-row",[r("b-col",{attrs:{sm:"5"}},[r("b-row",[r("label",[t._v(" Nombre Comercial:")])]),r("b-row",[r("label",[t._v(" Tipo:")])]),r("b-row",[r("label",[t._v(" RFC:")])]),r("b-row",[r("label",[t._v(" Regimen:")])])],1),r("b-col",{attrs:{sm:"7"}},[r("b-row",[r("label",[t._v(t._s(this.form.NombreComercial))])]),r("b-row",[r("label",[t._v(t._s(this.form.Tipo))])]),r("b-row",[r("label",[t._v(t._s(this.form.RFC))])]),r("b-row",[r("label",[t._v(t._s(this.form.Regimen))])])],1)],1)],1)],1)],1)])])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mt-3"},[r("h3",[r("i",{staticClass:"fas fa-users"}),t._v(" Proveedores")])])}],n=(r("99af"),r("4de4"),r("d81d"),r("96cf"),r("1da1")),i=r("d0e6"),s={data:function(){return{rutaNuevo:"proveedores/registro/",rutaCuentas:"proveedores/cuentas/",rutaContactos:"proveedores/contactos/",form:{NombreComercial:"",RFC:"",Tipo:"",Regimen:""},items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],filter:null,filterOn:[],fields:[{key:"nombreComercial",label:"Nombre comercial",sortable:!0,sortDirection:"desc"},{key:"tipo",label:"Tipo",sortable:!0,class:"text-center"},{key:"acciones",label:"Acciones",sortable:!1,class:"text-center"}],permisoEscritura:!0}},components:{},mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.consultarProveedores();case 2:return e.next=4,t.CargarRenglones();case 4:case"end":return e.stop()}}),e)})))()},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},methods:{onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},redirect:function(){var t=this;setTimeout((function(){t.$router.push({path:"".concat(t.rutaNuevo,"0")})}),500)},redirectEditar:function(t){var e=this;setTimeout((function(){e.$router.push({path:"".concat(e.rutaNuevo).concat(t)})}),500)},redirectCuenta:function(t){var e=this;setTimeout((function(){e.$router.push({path:"".concat(e.rutaCuentas).concat(t)})}),500)},redirectContacto:function(t){var e=this;setTimeout((function(){e.$router.push({path:"".concat(e.rutaContactos).concat(t)})}),500)},desactivar:function(t){var e=this,r={idProveedor:t,activado:0};this.$swal.fire({title:"¿Desea eliminar el proveedor?",text:"se perderan los datos del proveedor",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.value&&i["a"].DesactivarProveedor(r).then((function(t){e.$swal.fire({text:t.message,icon:"sucess"});var r=e;setTimeout((function(){r.$router.go()}),1e3)}))}))},cargarDatosProveedor:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.$loading(!0),r.next=3,i["a"].proveedores(t).then((function(t){e.form.NombreComercial=t.data.proveedor[0].nombreComercial,e.form.Tipo=t.data.proveedor[0].tipo,e.form.RFC=t.data.proveedor[0].rFC,e.form.Regimen=t.data.proveedor[0].regimen,e.$loading(!1),e.CargarRenglones()}));case 3:case"end":return r.stop()}}),r)})))()},CargarRenglones:function(){var t=this;setTimeout((function(){t.totalRows=t.items.length,console.log(t.totalRows)}),1e3)},consultarProveedores:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$loading(!0),e.next=3,i["a"].proveedores().then((function(e){t.items=e.data.proveedor,t.$loading(!1)})).catch((function(e){console.log(e),t.$loading(!1)}));case 3:case"end":return e.stop()}}),e)})))()}}},c=s,l=(r("6aa8"),r("2877")),u=Object(l["a"])(c,o,a,!1,null,"0b5aadea",null);e["default"]=u.exports},d81d:function(t,e,r){"use strict";var o=r("23e7"),a=r("b727").map,n=r("1dde"),i=r("ae40"),s=n("map"),c=i("map");o({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=Proveedores.05704430.js.map