{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./src/views/catalogos/clientes/Clientes.vue?c9be","webpack:///src/views/catalogos/clientes/Clientes.vue","webpack:///./src/views/catalogos/clientes/Clientes.vue?2dd2","webpack:///./src/views/catalogos/clientes/Clientes.vue","webpack:///./node_modules/core-js/modules/es.array.find.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_m","modalEspecial","id","title","codigo","on","resetModalEspecial","cargarDatosSugeridos","aceptarNombreUsuario","ref","$event","stopPropagation","preventDefault","handleSubmit","disabled","model","value","form","callback","$$v","$set","expression","_v","items","fields","rutaNuevo","permisoEscritura","staticRenderFns","data","usuario","contraseña","content","components","TableSortable","mounted","methods","$loading","consultarClientes","component","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array"],"mappings":"+FAAA,IAAIA,EAAS,EAAQ,QACjBC,EAAe,EAAQ,QACvBC,EAAU,EAAQ,QAClBC,EAA8B,EAAQ,QAE1C,IAAK,IAAIC,KAAmBH,EAAc,CACxC,IAAII,EAAaL,EAAOI,GACpBE,EAAsBD,GAAcA,EAAWE,UAEnD,GAAID,GAAuBA,EAAoBJ,UAAYA,EAAS,IAClEC,EAA4BG,EAAqB,UAAWJ,GAC5D,MAAOM,GACPF,EAAoBJ,QAAUA,K,oCCXlC,IAAIO,EAAW,EAAQ,QAAgCP,QACnDQ,EAAsB,EAAQ,QAC9BC,EAA0B,EAAQ,QAElCC,EAAgBF,EAAoB,WACpCG,EAAiBF,EAAwB,WAI7CG,EAAOC,QAAYH,GAAkBC,EAEjC,GAAGX,QAFgD,SAAiBc,GACtE,OAAOP,EAASQ,KAAMD,EAAYE,UAAUC,OAAS,EAAID,UAAU,QAAKE,K,kCCV1E,IAAIC,EAAI,EAAQ,QACZnB,EAAU,EAAQ,QAItBmB,EAAE,CAAEC,OAAQ,QAASC,OAAO,EAAMC,OAAQ,GAAGtB,SAAWA,GAAW,CACjEA,QAASA,K,2CCPX,IAAIuB,EAAS,WAAa,IAAIC,EAAIT,KAASU,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,MAAM,CAACG,YAAY,kBAAkB,CAACN,EAAIO,GAAG,GAAGJ,EAAG,UAAU,CAACE,MAAM,CAAC,GAAKL,EAAIQ,cAAcC,GAAG,MAAQT,EAAIQ,cAAcE,MAAM,OAASV,EAAIQ,cAAcG,QAAQC,GAAG,CAAC,KAAOZ,EAAIa,mBAAmB,KAAOb,EAAIc,qBAAqB,GAAKd,EAAIe,uBAAuB,CAACZ,EAAG,OAAO,CAACa,IAAI,OAAOX,MAAM,CAAC,aAAe,OAAOO,GAAG,CAAC,OAAS,SAASK,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBnB,EAAIoB,aAAaH,MAAW,CAACd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,oBAAoB,YAAY,mBAAmB,mBAAmB,sCAAsC,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,mBAAmB,SAAW,GAAG,aAAe,QAAQ,SAAWL,EAAIQ,cAAca,UAAUC,MAAM,CAACC,MAAOvB,EAAIwB,KAAY,QAAEC,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIwB,KAAM,UAAWE,IAAME,WAAW,mBAAmB,GAAGzB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,wBAAwB,YAAY,gBAAgB,mBAAmB,+BAA+B,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,gBAAgB,KAAO,WAAW,SAAW,GAAG,aAAe,eAAe,SAAWL,EAAIQ,cAAca,UAAUC,MAAM,CAACC,MAAOvB,EAAIwB,KAAe,WAAEC,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIwB,KAAM,aAAcE,IAAME,WAAW,qBAAqBzB,EAAG,cAAc,CAACH,EAAI6B,GAAG,iEAAiE1B,EAAG,MAAMH,EAAI6B,GAAG,2BAA2B,IAAI,KAAK1B,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQL,EAAI8B,MAAM,OAAS9B,EAAI+B,OAAO,UAAY/B,EAAIgC,UAAU,cAAgBhC,EAAIQ,cAAc,iBAAmBR,EAAIiC,qBAAqB,MAC5oDC,EAAkB,CAAC,WAAa,IAAIlC,EAAIT,KAASU,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,YAAY,iBAAiBN,EAAI6B,GAAG,mB,wDC8D9L,GACEM,KADF,WAEI,MAAO,CACLX,KAAM,CACJY,QAAS,GACTC,aAAY,GACZ1B,OAAQ,GAEVH,cAAe,CACbC,GAAI,iBACJC,MAAO,GACP4B,QAAS,GACT3B,OAAQ,GACRU,UAAU,GAEZW,UAAW,qBACXF,MAAO,GACPC,OAAQ,CACd,CACQ,IAAR,wBACQ,MAAR,mBACQ,UAAR,EACQ,cAAR,QAEA,CACQ,IAAR,iBACQ,MAAR,WACQ,UAAR,EACQ,cAAR,QAEA,CACQ,IAAR,gBACQ,MAAR,UACQ,UAAR,EACQ,MAAR,eAEA,CACQ,IAAR,aACQ,MAAR,WACQ,UAAR,EACQ,MAAR,eAEA,CACQ,IAAR,UACQ,MAAR,oBACQ,UAAR,EACQ,MAAR,eAcM,CAAE,IAAR,SAAQ,MAAR,YAAQ,MAAR,eACA,CAAQ,IAAR,UAAQ,MAAR,WAAQ,MAAR,gBAEME,kBAAkB,IAGtBM,WAAY,CACVC,cAAJ,QAEEC,QArEF,WA0EI,KAAJ,qBAGEC,QAAS,CACP7B,mBADJ,WAEMtB,KAAKiB,cAAcE,MAAQ,GAC3BnB,KAAKiB,cAAca,UAAW,GAGhCP,qBANJ,WAMA,WAEMvB,KAAKoD,UAAS,GACd,EAAN,KACA,0CACA,kBACA,SACU,QAAV,YACU,EAAV,+BACU,EAAV,qCACU,EAAV,mCACU,EAAV,eAEU,EAAV,KACA,uCACA,kBACY,EAAZ,+BACY,EAAZ,qCAEY,EAAZ,6BAEU,EAAV,iBAGA,mBACQ,QAAR,aAGI5B,qBAlCJ,WAkCA,WACMxB,KAAKoD,UAAS,GACd,IAAN,YACM,EAAN,KACA,kBACA,kBACQ,EAAR,aACA,SACU,EAAV,YACY,KAAZ,UACY,KAAZ,YAEU,EAAV,qBAEU,EAAV,YACY,KAAZ,UACY,KAAZ,eAIA,mBACQ,QAAR,aAGIC,kBA1DJ,WA0DA,WACMrD,KAAKoD,UAAS,GACd,EAAN,KACA,WACA,kBACQ,QAAR,OACQ,EAAR,qBACQ,EAAR,2BACU,IAAV,sBACU,EAAV,kCAAY,OAAZ,4CAEQ,EAAR,gBAEA,mBACQ,QAAR,OACQ,EAAR,mBCrNgX,I,YCO5WE,EAAY,eACd,EACA9C,EACAmC,GACA,EACA,KACA,WACA,MAIa,aAAAW,E,6CCjBf,IAAIlD,EAAI,EAAQ,QACZmD,EAAQ,EAAQ,QAAgCC,KAChDC,EAAmB,EAAQ,QAC3B/D,EAA0B,EAAQ,QAElCgE,EAAO,OACPC,GAAc,EAEd/D,EAAiBF,EAAwBgE,GAGzCA,IAAQ,IAAIE,MAAM,GAAGF,IAAM,WAAcC,GAAc,KAI3DvD,EAAE,CAAEC,OAAQ,QAASC,OAAO,EAAMC,OAAQoD,IAAgB/D,GAAkB,CAC1E4D,KAAM,SAAczD,GAClB,OAAOwD,EAAMvD,KAAMD,EAAYE,UAAUC,OAAS,EAAID,UAAU,QAAKE,MAKzEsD,EAAiBC","file":"js/Clientes.8a759ad9.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"container my-5\"},[_vm._m(0),_c('b-modal',{attrs:{\"id\":_vm.modalEspecial.id,\"title\":_vm.modalEspecial.title,\"codigo\":_vm.modalEspecial.codigo},on:{\"hide\":_vm.resetModalEspecial,\"show\":_vm.cargarDatosSugeridos,\"ok\":_vm.aceptarNombreUsuario}},[_c('form',{ref:\"form\",attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('b-form-group',{attrs:{\"label\":\"Nombre de usuario\",\"label-for\":\"txtNombreUsuario\",\"invalid-feedback\":\"El nombre de usuario es requerido\"}},[_c('b-form-input',{attrs:{\"id\":\"txtNombreUsuario\",\"required\":\"\",\"autocomplete\":\"false\",\"disabled\":_vm.modalEspecial.disabled},model:{value:(_vm.form.usuario),callback:function ($$v) {_vm.$set(_vm.form, \"usuario\", $$v)},expression:\"form.usuario\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Contraseña de usuario\",\"label-for\":\"txtContraseña\",\"invalid-feedback\":\"La contraseña es requerida\"}},[_c('b-form-input',{attrs:{\"id\":\"txtContraseña\",\"type\":\"password\",\"required\":\"\",\"autocomplete\":\"new-password\",\"disabled\":_vm.modalEspecial.disabled},model:{value:(_vm.form.contraseña),callback:function ($$v) {_vm.$set(_vm.form, \"contraseña\", $$v)},expression:\"form.contraseña\"}}),_c('b-form-text',[_vm._v(\" El usuario y la contraseña son recomendadas por el sistema. \"),_c('br'),_vm._v(\" Las puede cambiar. \")])],1)],1)]),_c('table-sortable',{attrs:{\"items\":_vm.items,\"fields\":_vm.fields,\"rutaNuevo\":_vm.rutaNuevo,\"modalEspecial\":_vm.modalEspecial,\"permisoEscritura\":_vm.permisoEscritura}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-5\"},[_c('h3',[_c('i',{staticClass:\"fas fa-users\"}),_vm._v(\" Clientes\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app\">\r\n    <div class=\"container my-5\">\r\n      <div class=\"my-5\">\r\n        <h3><i class=\"fas fa-users\"></i> Clientes</h3>\r\n      </div>\r\n      <b-modal\r\n        :id=\"modalEspecial.id\"\r\n        :title=\"modalEspecial.title\"\r\n        @hide=\"resetModalEspecial\"\r\n        @show=\"cargarDatosSugeridos\"\r\n        :codigo=\"modalEspecial.codigo\"\r\n        @ok=\"aceptarNombreUsuario\"\r\n      >\r\n        <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\" autocomplete=\"off\">\r\n          <b-form-group\r\n            label=\"Nombre de usuario\"\r\n            label-for=\"txtNombreUsuario\"\r\n            invalid-feedback=\"El nombre de usuario es requerido\"\r\n          >\r\n            <b-form-input\r\n              id=\"txtNombreUsuario\"\r\n              required\r\n              v-model=\"form.usuario\"\r\n              autocomplete=\"false\"\r\n              :disabled=\"modalEspecial.disabled\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n          <b-form-group\r\n            label=\"Contraseña de usuario\"\r\n            label-for=\"txtContraseña\"\r\n            invalid-feedback=\"La contraseña es requerida\"\r\n          >\r\n            <b-form-input\r\n              id=\"txtContraseña\"\r\n              type=\"password\"\r\n              required\r\n              v-model=\"form.contraseña\"\r\n              autocomplete=\"new-password\"\r\n              :disabled=\"modalEspecial.disabled\"\r\n            ></b-form-input>\r\n            <b-form-text>\r\n              El usuario y la contraseña son recomendadas por el sistema.\r\n              <br />\r\n              Las puede cambiar.\r\n            </b-form-text>\r\n          </b-form-group>\r\n        </form>\r\n      </b-modal>\r\n      <table-sortable\r\n        :items=\"items\"\r\n        :fields=\"fields\"\r\n        :rutaNuevo=\"rutaNuevo\"\r\n        :modalEspecial=\"modalEspecial\"\r\n        :permisoEscritura=\"permisoEscritura\"\r\n      ></table-sortable>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TableSortable from \"@/components/TableSortable\";\r\nimport servicioClientes from \"@/services/servicio-clientes\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        usuario: \"\",\r\n        contraseña: \"\",\r\n        codigo: 0,\r\n      },\r\n      modalEspecial: {\r\n        id: \"modal-especial\",\r\n        title: \"\",\r\n        content: \"\",\r\n        codigo: \"\",\r\n        disabled: false,\r\n      },\r\n      rutaNuevo: \"clientes/registro/\",\r\n      items: [],\r\n      fields: [\r\n        {\r\n          key: \"codigoNombreComercial\",\r\n          label: \"Nombre comercial\",\r\n          sortable: true,\r\n          sortDirection: \"desc\",\r\n        },\r\n        {\r\n          key:\"nombreVendedor\",\r\n          label:\"Vendedor\",\r\n          sortable:true,\r\n          sortDirection:\"desc\"\r\n        },\r\n        {\r\n          key: \"creditoFormat\",\r\n          label: \"Crédito\",\r\n          sortable: true,\r\n          class: \"text-center\",\r\n        },\r\n        {\r\n          key: \"fechaCorta\",\r\n          label: \"Registro\",\r\n          sortable: true,\r\n          class: \"text-center\",\r\n        },\r\n        {\r\n          key: \"credito\",\r\n          label: \"Crédito Utilizado\",\r\n          sortable: true,\r\n          class: \"text-center\",\r\n        },\r\n        //   {\r\n        //     key: 'isActive',\r\n        //     label: 'is Active',\r\n        //     formatter: (value, key, item) => {\r\n        //         console.log(key,item)\r\n        //       return value ? 'Yes' : 'No'\r\n        //     },\r\n        //     sortable: true,\r\n        //     sortByFormatted: true,\r\n        //     filterByFormatted: true\r\n        //   },\r\n        // { key: \"userClient\", label: \"Cliente-Usuario\", class: \"text-center\", },\r\n        { key: \"sendWS\", label: \"Contactar\", class: \"text-center\" },\r\n        { key: \"actions\", label: \"Acciones\", class: \"text-center\" },\r\n      ],\r\n      permisoEscritura: true,\r\n    };\r\n  },\r\n  components: {\r\n    TableSortable,\r\n  },\r\n  mounted() {\r\n    // if (this.verificaTokenValido()) {\r\n    //   this.verificaPermiso(\"catalogos/clientes\");\r\n    //   this.consultarClientes();\r\n    // }\r\n      this.consultarClientes();\r\n\r\n  },\r\n  methods: {\r\n    resetModalEspecial() {\r\n      this.modalEspecial.title = \"\";\r\n      this.modalEspecial.disabled = false;\r\n      // this.modalEspecial.content = ''\r\n    },\r\n    cargarDatosSugeridos() {\r\n      //Mandar llamar al servicio de recomendar usuario\r\n      this.$loading(true);\r\n      servicioClientes\r\n        .sugerirUsuario(this.modalEspecial.codigo)\r\n        .then((r) => {\r\n          if (r.value) {\r\n            console.log(r.data)\r\n            this.form.usuario = r.data[0].usuario;\r\n            this.form.contraseña = r.data[0].contraseña;\r\n            this.form.codigo = this.modalEspecial.codigo;\r\n            this.$loading(false);\r\n          } else {\r\n            servicioClientes\r\n              .obtenerUsuario(this.modalEspecial.codigo)\r\n              .then((r) => {\r\n                this.form.usuario = r.data[0].usuario;\r\n                this.form.contraseña = r.data[0].contraseña;\r\n                // this.form.codigo = this.modalEspecial.codigo\r\n                this.modalEspecial.disabled = true;\r\n              });\r\n            this.$loading(false);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n        });\r\n    },\r\n    aceptarNombreUsuario() {\r\n      this.$loading(true);\r\n      let datosUsuario = this.form;\r\n      servicioClientes\r\n        .guardarUsuario(datosUsuario)\r\n        .then((r) => {\r\n          this.$loading(false);\r\n          if (r.value) {\r\n            this.$swal.fire({\r\n              text: r.message,\r\n              icon: \"success\",\r\n            });\r\n            this.consultarClientes();\r\n          } else {\r\n            this.$swal.fire({\r\n              text: r.message,\r\n              icon: \"warning\",\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n        });\r\n    },\r\n    consultarClientes() {\r\n      this.$loading(true);\r\n      servicioClientes\r\n        .clientes()\r\n        .then((r) => {\r\n          console.log(r)\r\n          this.items = r.data.cliente;\r\n          this.items.forEach(x=>{\r\n            let credito = r.data.datosCredito;\r\n            x.creditoFormat = credito.find(el=> el.codCliente == x.codigo).creditoFormato\r\n          })\r\n          this.$loading(false);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          this.$loading(false);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clientes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clientes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Clientes.vue?vue&type=template&id=2379d4b2&scoped=true&\"\nimport script from \"./Clientes.vue?vue&type=script&lang=js&\"\nexport * from \"./Clientes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2379d4b2\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n"],"sourceRoot":""}