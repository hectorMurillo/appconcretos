(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PedidosRegistro"],{1148:function(e,t,a){"use strict";var o=a("a691"),r=a("1d80");e.exports="".repeat||function(e){var t=String(r(this)),a="",i=o(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(a+=t);return a}},"159b":function(e,t,a){var o=a("da84"),r=a("fdbc"),i=a("17c2"),n=a("9112");for(var c in r){var s=o[c],d=s&&s.prototype;if(d&&d.forEach!==i)try{n(d,"forEach",i)}catch(l){d.forEach=i}}},"17c2":function(e,t,a){"use strict";var o=a("b727").forEach,r=a("a640"),i=a("ae40"),n=r("forEach"),c=i("forEach");e.exports=n&&c?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},1868:function(e,t,a){},2532:function(e,t,a){"use strict";var o=a("23e7"),r=a("5a34"),i=a("1d80"),n=a("ab13");o({target:"String",proto:!0,forced:!n("includes")},{includes:function(e){return!!~String(i(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,a){"use strict";var o=a("6eeb"),r=a("825a"),i=a("d039"),n=a("ad6d"),c="toString",s=RegExp.prototype,d=s[c],l=i((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),u=d.name!=c;(l||u)&&o(RegExp.prototype,c,(function(){var e=r(this),t=String(e.source),a=e.flags,o=String(void 0===a&&e instanceof RegExp&&!("flags"in s)?n.call(e):a);return"/"+t+"/"+o}),{unsafe:!0})},"408a":function(e,t,a){var o=a("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=o(e))throw TypeError("Incorrect invocation");return+e}},4160:function(e,t,a){"use strict";var o=a("23e7"),r=a("17c2");o({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"498a":function(e,t,a){"use strict";var o=a("23e7"),r=a("58a8").trim,i=a("c8d2");o({target:"String",proto:!0,forced:i("trim")},{trim:function(){return r(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var o=a("1d80"),r=a("5899"),i="["+r+"]",n=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),s=function(e){return function(t){var a=String(o(t));return 1&e&&(a=a.replace(n,"")),2&e&&(a=a.replace(c,"")),a}};e.exports={start:s(1),end:s(2),trim:s(3)}},"5a34":function(e,t,a){var o=a("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},"77d5":function(e,t,a){"use strict";var o=a("1868"),r=a.n(o);r.a},8060:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container mt-3 mb-5"},[a("div",{staticClass:"my-3"},[0==e.parametro?a("h3",[a("i",{staticClass:"fas fa-clipboard-list"}),e._v(" Registrar pedido")]):e._e(),e.parametro>0?a("h3",[a("i",{staticClass:"fas fa-clipboard-list"}),e._v(" Actualizar el pedido")]):e._e()]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-1"},[a("label",[e._v("Hora de salida de la planta")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pedido.horaSalida,expression:"pedido.horaSalida"}],staticClass:"form-control",attrs:{type:"time",disabled:e.disabledPedido},domProps:{value:e.pedido.horaSalida},on:{input:function(t){t.target.composing||e.$set(e.pedido,"horaSalida",t.target.value)}}})]),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 mb-1"},[a("label",[e._v("Fecha de salida")]),a("b-form-datepicker",{attrs:{disabled:e.disabledPedido,locale:"es",size:"sm"},model:{value:e.pedido.fechaSalida,callback:function(t){e.$set(e.pedido,"fechaSalida",t)},expression:"pedido.fechaSalida"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2"},[a("label",[e._v("Vendedor")]),a("div",{staticClass:"input-group"},[a("b-form-select",{class:{hasError:e.hasErrorVendedor},attrs:{id:"cboVendedor",options:e.vendedores,disabled:e.disabledVendedor||e.disabledPedido},on:{change:e.obtenerClientes},model:{value:e.pedido.codVendedor,callback:function(t){e.$set(e.pedido,"codVendedor",t)},expression:"pedido.codVendedor"}})],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 mt-2"},[a("label",[e._v("Cliente")]),a("div",{staticClass:"input-group"},[a("b-form-select",{class:{hasError:e.hasErrorCte},attrs:{id:"cboCliente",disabled:e.disabledClientes||e.disabledPedido,options:e.clientes},on:{change:e.changeCliente},model:{value:e.pedido.codCliente,callback:function(t){e.$set(e.pedido,"codCliente",t)},expression:"pedido.codCliente"}})],1)]),a("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2 mt-2"},[a("label",[e._v("Obras")]),a("div",{staticClass:"input-group"},[a("b-form-select",{class:{hasError:e.hasErrorObra},attrs:{id:"cboObras",disabled:e.disabledObras||e.disabledPedido,options:e.obras},on:{change:e.obraSeleccionada},model:{value:e.pedido.codObra,callback:function(t){e.$set(e.pedido,"codObra",t)},expression:"pedido.codObra"}})],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-4 col-xl-12 mb-1"},[a("label",[e._v("Fórmula")]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-group col-xl-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],ref:"refFormula",staticClass:"form-control",class:{hasError:e.hasErrorProducto},attrs:{type:"text",autocomplete:"off",disabled:e.disabledPedido},domProps:{value:e.state},on:{input:[function(t){t.target.composing||(e.state=t.target.value)},e.filterState],focus:e.focusInputFormula}}),a("span",{staticClass:"input-group-btn"},[a("b-button",{staticClass:"input-group-4",attrs:{disabled:e.disabledFormula||e.disabledPedido,variant:"outline-primary"},on:{click:e.limpiarProducto}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],1)]),a("b-button",{staticClass:"col-xs-4",attrs:{variant:"primary","data-toggle":"tooltip","data-placement":"top",disabled:e.disabledPedido},on:{click:e.habilitarFormula}},[a("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}}),e._v(" Modificar")])],1),e.formulasFiltradas&&e.modal?a("div",[a("ul",{staticClass:"list-group items-body"},e._l(e.formulasFiltradas,(function(t){return a("li",{key:t.value,staticClass:"list-group-item py-2 items-body-content",on:{click:function(a){return e.setState(t)}}},[a("span",[e._v(" "+e._s(t.text))]),a("i",{staticClass:"fa fa-angle-right"})])})),0)]):e._e(),a("transition",{attrs:{name:"fade"}},[a("label",{directives:[{name:"show",rawName:"v-show",value:e.mostrarProducto,expression:"mostrarProducto"}]},[a("span",{staticClass:"labelSize"},[e._v("Nomenclatura: ")]),e._v(" "+e._s(e.pedido.producto))])])],1)]),a("hr"),a("div",{staticClass:"row mt-3 mb-3"},[a("div",{staticClass:"col-12 mb-2"},[e._v("Especiales:")]),a("div",{staticClass:"col-sm-12 col-md-4  col-lg-2 text-center"},[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pedido.tieneFibra,expression:"pedido.tieneFibra"}],staticClass:"custom-control-input ",attrs:{type:"checkbox",id:"fibra"},domProps:{checked:Array.isArray(e.pedido.tieneFibra)?e._i(e.pedido.tieneFibra,null)>-1:e.pedido.tieneFibra},on:{change:function(t){var a=e.pedido.tieneFibra,o=t.target,r=!!o.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);o.checked?n<0&&e.$set(e.pedido,"tieneFibra",a.concat([i])):n>-1&&e.$set(e.pedido,"tieneFibra",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.pedido,"tieneFibra",r)}}}),a("label",{staticClass:"custom-control-label labelSize",attrs:{for:"fibra"}},[e._v("FIBRA")])])]),a("div",{staticClass:"col-sm-12 col-md-4 col-lg-2 text-center"},[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pedido.tieneImper,expression:"pedido.tieneImper"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"imper"},domProps:{checked:Array.isArray(e.pedido.tieneImper)?e._i(e.pedido.tieneImper,null)>-1:e.pedido.tieneImper},on:{change:function(t){var a=e.pedido.tieneImper,o=t.target,r=!!o.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);o.checked?n<0&&e.$set(e.pedido,"tieneImper",a.concat([i])):n>-1&&e.$set(e.pedido,"tieneImper",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.pedido,"tieneImper",r)}}}),a("label",{staticClass:"custom-control-label labelSize",attrs:{for:"imper"}},[e._v("IMPER")])])]),a("div",{staticClass:"col-sm-12 col-md-4 col-lg-2 text-center"},[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pedido.bombeado,expression:"pedido.bombeado"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"bombeo"},domProps:{checked:Array.isArray(e.pedido.bombeado)?e._i(e.pedido.bombeado,null)>-1:e.pedido.bombeado},on:{change:function(t){var a=e.pedido.bombeado,o=t.target,r=!!o.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);o.checked?n<0&&e.$set(e.pedido,"bombeado",a.concat([i])):n>-1&&e.$set(e.pedido,"bombeado",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.pedido,"bombeado",r)}}}),a("label",{staticClass:"custom-control-label labelSize",attrs:{for:"bombeo"}},[e._v("BOMBEO")])])]),a("div",{staticClass:"col-sm-12 col-md-4 col-lg-2 text-center"},[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pedido.maquilado,expression:"pedido.maquilado"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"maquilado"},domProps:{checked:Array.isArray(e.pedido.maquilado)?e._i(e.pedido.maquilado,null)>-1:e.pedido.maquilado},on:{change:function(t){var a=e.pedido.maquilado,o=t.target,r=!!o.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);o.checked?n<0&&e.$set(e.pedido,"maquilado",a.concat([i])):n>-1&&e.$set(e.pedido,"maquilado",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.pedido,"maquilado",r)}}}),a("label",{staticClass:"custom-control-label labelSize",attrs:{for:"maquilado"}},[e._v("MAQUILADO")])])])]),a("hr"),e.mostrarDescuento?a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-xs-12 offset-md-6 col-md-6"},[a("b-form-checkbox",{staticClass:"col-2",attrs:{name:"check-button",checkbox:"",size:"lg"},model:{value:e.pedido.tieneDescuento,callback:function(t){e.$set(e.pedido,"tieneDescuento",t)},expression:"pedido.tieneDescuento"}},[e._v(" Descuento ")]),e.pedido.tieneDescuento?a("div",{staticClass:"row ml-0 mt-1"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.pedido.porcentajeDescuento,expression:"pedido.porcentajeDescuento"}],staticClass:"form-control col-3",attrs:{type:"text"},domProps:{value:e.pedido.porcentajeDescuento},on:{blur:e.calcularDescuento,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.calcularDescuento(t)},change:function(t){e.calcularDescuento(),e.calcularPrecio()},input:function(t){t.target.composing||e.$set(e.pedido,"porcentajeDescuento",t.target.value)}}}),e._m(0)])]):e._e()],1)]):e._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-xs-12 col-md-6 mb-2"},[a("label",[e._v("Planta de salida")]),a("b-form-select",{class:{hasError:e.hasErrorPlanta},attrs:{id:"cboPlantas",options:e.plantas,disabled:e.disabledPlanta||e.disabledPedido},on:{change:e.obraSeleccionada},model:{value:e.pedido.codPlanta,callback:function(t){e.$set(e.pedido,"codPlanta",t)},expression:"pedido.codPlanta"}}),a("label",{staticClass:"mr-3"},[a("span",[e._v("Distancia apróx: ")]),e._v(" "+e._s((1.3*parseFloat(e.distanciaActual)).toFixed(2))+" "),a("strong",[e._v("Kms")])]),a("label",[a("span",[e._v("Distancia apróx: ")]),e._v(" "+e._s(parseInt(1.3*parseInt(e.tiempoActual)))+" "),a("strong",[e._v("Mins")])])],1),e.pedido.tieneDescuento||0!=e.pedido.precioDescuento?a("div",{staticClass:"form-group col-sm-12 col-xs-12 col-md-6 mb-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12 col-xs-6 col-md-6 mb-2"},[a("label",[e._v("Precio por m³ original")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pedido.precioOriginal,expression:"pedido.precioOriginal"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.pedido.precioOriginal},on:{input:function(t){t.target.composing||e.$set(e.pedido,"precioOriginal",t.target.value)}}})]),e.pedido.tieneDescuento?a("div",{staticClass:"form-group col-sm-12 col-xs-6 col-md-6 mb-2"},[a("label",[e._v("Precio por m³ con descuento")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pedido.precioDescuento,expression:"pedido.precioDescuento"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.pedido.precioDescuento},on:{change:function(t){return e.descuentoInv()},input:function(t){t.target.composing||e.$set(e.pedido,"precioDescuento",t.target.value)}}})]):e._e(),e._m(2)])]):a("div",{staticClass:"form-group col-sm-12 col-xs-12 col-md-6 mb-2"},[a("label",[e._v("Precio por m³")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pedido.precioOriginal,expression:"pedido.precioOriginal"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.pedido.precioOriginal},on:{input:function(t){t.target.composing||e.$set(e.pedido,"precioOriginal",t.target.value)}}}),e._m(1)])]),a("hr"),a("div",{staticClass:"row hasError"},[a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-3 mb-2"},[a("label",[e._v("Cantidad")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.pedido.cantidad,expression:"pedido.cantidad"}],ref:"refCantidad",staticClass:"form-control col-4 col-md-8",class:{hasError:e.hasErrorCantidad},attrs:{id:"cantidad",type:"text",disabled:e.disabledPedido},domProps:{value:e.pedido.cantidad},on:{change:function(t){e.hasErrorCantidad=!1},focus:function(t){return e.onFocus(1)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.pedido,"cantidad",t.target.value)}}}),e._m(3)])]),e.pedido.tieneCierres?e._e():a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-4 col-xl-3 mb-2"},[a("b-form-checkbox",{attrs:{name:"check-button",switch:"",size:"lg"},on:{change:function(t){return e.cierreFuncion()}},model:{value:e.pedido.cierre,callback:function(t){e.$set(e.pedido,"cierre",t)},expression:"pedido.cierre"}},[e._v("Cierre ")]),e.pedido.cierre?a("div",{staticClass:"row"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.pedido.cantidadCierre,expression:"pedido.cantidadCierre"}],staticClass:"form-control col-4 col-lg-8",attrs:{type:"text"},domProps:{value:e.pedido.cantidadCierre},on:{focus:function(t){return e.onFocus(2)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.pedido,"cantidadCierre",t.target.value)}}}),e._m(4)]):e._e()],1),e.pedido.tieneCierres?a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-3 mb-2"},[a("label",[e._v("Cantidad Total")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.pedido.cantidadTotal,expression:"pedido.cantidadTotal"}],ref:"refCantidad",staticClass:"form-control col-4 col-md-8",class:{hasError:e.hasErrorCantidad},attrs:{disabled:"",type:"text"},domProps:{value:e.pedido.cantidadTotal},on:{change:function(t){e.hasErrorCantidad=!1},focus:function(t){return e.onFocus(1)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.pedido,"cantidadTotal",t.target.value)}}}),e._m(5)])]):e._e(),a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-3 mb-2"},[a("label",[e._v("Precio total")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.pedido.precioTotal,expression:"pedido.precioTotal"}],ref:"refCantidad",staticClass:"form-control col-4 col-md-8",attrs:{disabled:"",type:"text"},domProps:{value:e.pedido.precioTotal},on:{focus:function(t){return e.onFocus(1)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.pedido,"precioTotal",t.target.value)}}}),e._m(6)])]),e.pedido.tieneDescuento?a("div",{staticClass:"form-group col-sm-12 col-md-4 col-lg-3 mb-2"},[a("label",[e._v("Precio total descuento")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"selectonfocus",rawName:"v-selectonfocus"},{name:"model",rawName:"v-model",value:e.pedido.precioTotalDescuento,expression:"pedido.precioTotalDescuento"}],ref:"refCantidad",staticClass:"form-control col-4 col-md-8",attrs:{disabled:"",type:"text"},domProps:{value:e.pedido.precioTotalDescuento},on:{focus:function(t){return e.onFocus(1)},keypress:e.numerosDecimales,input:function(t){t.target.composing||e.$set(e.pedido,"precioTotalDescuento",t.target.value)}}}),e._m(7)])]):e._e(),e.pedido.cierre?a("div",{staticClass:"form-group col-sm-12 col-md-6 mb-2"},[a("div",{staticClass:"row"},[e.pedido.tieneCierres?a("div",{staticClass:"form-group col-sm-6 col-lg-4 mb-2"},[a("label",{staticClass:"text-white"},[e._v(".")]),e.pedido.cierre?a("div",{staticClass:"row"},[a("button",{staticClass:"btn btn-warning col-lg-10 sm-ml-3",on:{click:e.buscarCierres}},[e.mostrarCierres?e._e():a("span",[e._v(" Ver cierres ")]),e.mostrarCierres?a("span",[e._v(" Ocultar cierres ")]):e._e()])]):e._e()]):e._e(),e.pedido.tieneCierres?a("div",{staticClass:"form-group col-sm-6 col-lg-4 mb-2"},[a("label",{staticClass:"text-white"},[e._v(".")]),e.pedido.cierre?a("div",{staticClass:"row"},[a("button",{staticClass:"btn btn-dark col-lg-10 sm-ml-3",attrs:{disabled:e.disabledCierres},on:{click:e.capturaNvoCierre}},[a("span",[e._v(" Nuevo cierre ")])])]):e._e()]):e._e()]),a("div",{staticClass:"row"},[a("transition",{attrs:{name:"bounce"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.nuevoCierre,expression:"nuevoCierre"}],staticClass:"input-group"},[a("b-input",{ref:"cierreNvo",attrs:{placeholder:"Cantidad del cierre"},on:{focus:function(t){return e.onFocus(3)},keypress:e.numerosDecimales},model:{value:e.cierreNuevo,callback:function(t){e.cierreNuevo=t},expression:"cierreNuevo"}}),a("label",{staticClass:"labelSize col-2",attrs:{for:"cantidad ml-3 mr-3"}},[a("p",[e._v("m"),a("sup",[e._v("3")])])]),a("span",{staticClass:"input-group-btn"},[a("b-button",{staticClass:"input-group-4",attrs:{variant:"success"},on:{click:e.aceptarNuevoCierre}},[a("i",{staticClass:"fa fa-check"})])],1),a("span",{staticClass:"input-group-btn ml-2"},[a("b-button",{staticClass:"input-group-4",attrs:{variant:"danger"},on:{click:e.cancelarNuevoCierre}},[a("i",{staticClass:"fa fa-times"})])],1)],1)])],1)]):e._e()]),a("hr"),e.mostrarCierres?a("div",[a("table-sortable",{staticClass:"mt-3",attrs:{items:e.items,fields:e.fields}})],1):e._e(),a("b-row",[a("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:e.guardar}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar ")])],1),a("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[a("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:e.cancelar}},[e._v(" Cancelar ")])],1)],1)],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[e._v("%")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"mr-3"},[a("span",[e._v("El precio que se otorgue, afectará directamente a facturación...")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group col-sm-12 col-xs-12 col-md-12 mb-2 mt-2 text-center"},[a("label",{staticClass:"mr-3"},[a("span",[e._v("* El precio que se otorgue, afectará directamente a facturación. *")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"labelSize col-4",attrs:{for:"cantidad"}},[a("p",[e._v("m"),a("sup",[e._v("3")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"labelSize col-4",attrs:{for:"cantidad"}},[a("p",[e._v("m"),a("sup",[e._v("3")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"labelSize col-4",attrs:{for:"cantidad"}},[a("p",[e._v("m"),a("sup",[e._v("3")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"labelSize col-4",attrs:{for:"cantidad"}},[a("p",[e._v("m"),a("sup",[e._v("3")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"labelSize col-4",attrs:{for:"cantidad"}},[a("p",[e._v("m"),a("sup",[e._v("3")])])])}],i=(a("99af"),a("4de4"),a("4160"),a("caad"),a("c975"),a("fb6a"),a("b680"),a("d3b7"),a("25f0"),a("2532"),a("498a"),a("159b"),a("96cf"),a("1da1")),n=a("7230"),c=a("e6d6"),s=a("65a8"),d=a("e845"),l=a("3965"),u=a("bc1d"),p=a("3d20"),m=a.n(p),f={data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=t.toISOString().slice(0,10);return{mostrarDescuento:!1,hasErrorCte:!1,hasErrorObra:!1,hasErrorVendedor:!1,hasErrorCantidad:!1,hasErrorPlanta:!1,disabledObras:!0,disabledClientes:!1,disabledCierres:!1,nuevoCierre:!1,mostrarOperadores:!0,distanciaActual:"0",tiempoActual:"0",clientes:[{value:0,text:"Seleccione el cliente"}],obras:[{value:0,text:"Seleccione la obra del cliente"}],vendedores:[{value:0,text:"Seleccione el vendedor"}],plantas:[{value:0,text:"Seleccione una planta"}],pedido:{folioPedido:0,horaSalida:"12:00",fechaSalida:a,codCliente:0,codObra:0,codVendedor:0,cantidad:0,cantidadCierre:0,cantidadTotal:0,precioTotal:0,precioTotalDescuento:0,cierre:!1,tieneCierres:!1,producto:"",codProducto:0,estatus:"",tieneDescuento:!1,porcentajeDescuento:0,observacion:"",codPlanta:0,tieneFibra:!1,tieneImper:!1,precioOriginal:0,precioDescuento:0,bombeado:!1,maquilado:!1},inputSeleccionado:0,parametro:0,items:[],fields:[{key:"folioPedido",label:"Folio Pedido",sortable:!0,sortDirection:"desc"},{key:"cantidadFormato",label:"Cantidad",sortable:!0,sortDirection:"desc"},{key:"estatusPedidoCierre",label:"Estatus",sortable:!0,sortDirection:"desc"},{key:"cancelarPedidoCierre",label:""}],mostrarCierres:!1,cierreNuevo:"",disabledFormula:!0,nuevaFormula:!1,mostrarProducto:!1,state:"",formulasFiltradas:[],formulas:[],formulaNueva:"",hasErrorProducto:!1,disabledlimpiarProductos:!1,modal:!1,disabledVendedor:!1,disabledPedido:!1,continuarGuardado:!1,disabledPlanta:!1,disabledPrecio:!1}},components:{TableSortable:n["a"]},computed:{},watch:{state:function(e){e.length>=1&&0==this.pedido.codProducto?this.modal=!0:this.modal=!1,0===e.length&&(this.pedido.producto=0,this.pedido.codProducto=0,this.mostrarProducto=!1,this.precios=[])},"pedido.cantidad":function(){this.calcularPrecio()}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.cargarFormulas(0);case 2:if(e.parametro=void 0!=e.$route.params.id?e.$route.params.id:0,!(e.parametro>0)){t.next=6;break}return t.next=6,e.cargaPedido();case 6:case"end":return t.stop()}}),t)})))()},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.obtenerPlantas(),1!==e.usuario.agente){t.next=8;break}e.disabledVendedor=!0,e.vendedores=[{value:e.usuario.codEmpleado,text:e.usuario.nombre}],e.pedido.codVendedor=e.vendedores[0].value,e.obtenerClientes(),t.next=12;break;case 8:return e.disabledVendedor=!1,t.next=11,e.obtenerVendedores();case 11:e.disabledClientes=!0;case 12:0==e.parametro&&(a="".concat((new Date).getHours()+1,":00"),e.pedido.horaSalida=a);case 13:case"end":return t.stop()}}),t)})))()},methods:{descuentoInv:function(){this.pedido.porcentajeDescuento=((this.pedido.precioOriginal-this.pedido.precioDescuento)/this.pedido.precioOriginal*100).toFixed(2),this.pedido.precioTotalDescuento=(this.pedido.cantidad*this.pedido.precioDescuento).toFixed(2)},calcularPrecio:function(){this.pedido.precioTotal=(this.pedido.cantidad*this.pedido.precioOriginal).toFixed(2),this.pedido.precioTotalDescuento=(this.pedido.cantidad*this.pedido.precioDescuento).toFixed(2)},calcularDescuento:function(){this.pedido.precioDescuento=(this.pedido.precioOriginal-this.pedido.porcentajeDescuento/100*this.pedido.precioOriginal).toFixed(2)},limpiaDescuento:function(){this.mostrarDescuento=!1,this.pedido.porcentajeDescuento=0},obtenerClientes:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.limpiaDescuento(),e.hasErrorVendedor=!1,e.hasErrorCte=!1,e.hasErrorObra=!1,e.hasErrorPlanta=!1,e.clientes=[{value:0,text:"Seleccione el cliente"}],e.pedido.codCliente=e.clientes[0].value,e.obras=[{value:0,text:"Seleccione la obra del cliente"}],e.pedido.codObra=e.obras[0].value,e.disabledObras=!0,!(e.pedido.codVendedor>0)){t.next=18;break}return e.$loading(!0),t.next=14,s["a"].obtenerClientesAgente(e.pedido.codVendedor).then((function(t){t.value&&t.data.forEach((function(t){var a={value:t.codigo,text:t.nombreCompleto};e.clientes.push(a)}))}));case 14:e.disabledClientes=!1,e.$loading(!1),t.next=19;break;case 18:e.disabledClientes=!0;case 19:case"end":return t.stop()}}),t)})))()},obtenerPrecios:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.$loading(!0),e.next=3,c["a"].obtenerFormulas(t).then((function(e){a.$loading(!1),e.value&&(a.pedido.tieneDescuento?(a.pedido.precioOriginal=e.data[0].precioMaximo,a.pedido.precioDescuento=(a.pedido.precioOriginal-a.pedido.porcentajeDescuento/100*a.pedido.precioOriginal).toFixed(2)):a.pedido.precioOriginal=e.data[0].precioMaximo.toFixed(2))})).catch((function(e){a.$loading(!1),console.error(e)}));case 3:case"end":return e.stop()}}),e)})))()},changeCliente:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerDescuentoCliente();case 2:return t.next=4,e.obtenerObras();case 4:case"end":return t.stop()}}),t)})))()},obtenerDescuentoCliente:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["a"].obtenerUltimoDescuentoCliente(e.pedido.codVendedor,e.pedido.codCliente);case 2:if(a=t.sent,!a.value){t.next=8;break}return t.next=6,m.a.fire({title:"¡ATENCIÓN!",text:"El ultimo descuento asignado al cliente fue de ".concat(a.data[0].porcentajeDescuento,"%, ¿Deseas aplicarlo?"),icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 6:o=t.sent,o.value?(e.pedido.tieneDescuento=!0,e.pedido.porcentajeDescuento=a.data[0].porcentajeDescuento):(e.pedido.tieneDescuento=!1,e.pedido.porcentajeDescuento=0);case 8:e.mostrarDescuento=!0;case 9:case"end":return t.stop()}}),t)})))()},obtenerObras:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.hasErrorObra=!1,a=e.pedido.codCliente,e.pedido.codObra=0,e.obras=[{value:0,text:"Seleccione la obra del cliente"}],e.$loading(!0),t.next=7,c["a"].obtenerObras(a).then((function(t){e.$loading(!1),t.value?(e.disabledObras=!1,e.hasErrorCte=!1,t.data.forEach((function(t){var a={value:t.codigo,text:t.calleNumero};e.obras.push(a)}))):e.disabledObras=!0}));case 7:e.$loading(!1);case 8:case"end":return t.stop()}}),t)})))()},obraSeleccionada:function(){this.hasErrorObra=!1,this.obtenerDistanciaTiempoObra()},obtenerDistanciaTiempoObra:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var o,r,n,c,d,l,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),o=e.pedido.codObra,r="",n="",t.next=6,u["a"].obtenerUbicacion(e.pedido.codPlanta).then((function(e){e.value&&(r=e.data.valor)})).catch((function(e){console.err(e)}));case 6:return t.next=8,s["a"].obtenerDireccion(o).then((function(e){e.value&&(n="".concat(e.data[0].latitud,",").concat(e.data[0].longitud))})).catch((function(e){console.err(e)}));case 8:c=a("b9eb"),d=[r],l=[n],p=e,c.key("AIzaSyAbG_eyVgmdfq7xuPTvidPbj36Vf-Tfjnk"),fetch("https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/distancematrix/json?origins=".concat(d,"&destinations=").concat(l,"&key=AIzaSyAbG_eyVgmdfq7xuPTvidPbj36Vf-Tfjnk")).then((function(e){return e.json()})).then((function(e){console.log(e),p.distanciaActual=e.rows[0].elements[0].distance.text,p.tiempoActual=e.rows[0].elements[0].duration.text})),c.matrix(d,l,function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t||console.log("DISTANCIAS entre puntos ",a.rows[0].elements[0].distance.text);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),e.$loading(!1);case 15:case"end":return t.stop()}}),t)})))()},obtenerPlantas:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,u["a"].obtenerPlanta(0).then((function(t){t.data.forEach((function(t){var a={value:t.codigo,text:t.descripcion};e.plantas.push(a)}))}));case 3:case"end":return t.stop()}}),t)})))()},obtenerVendedores:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,d["a"].agentesCombo().then((function(t){t.value&&t.data.forEach((function(t){var a={value:t.codVendedor,text:t.nombreVendedor};e.vendedores.push(a)}))}));case 3:e.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},guardar:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.pedido),e.validarRegistros()){t.next=8;break}return t.next=4,m.a.fire({title:"¡ATENCIÓN!",text:"¿Desea guardar el pedido?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 4:a=t.sent,a.value&&(e.continuarGuardado=!0),t.next=9;break;case 8:e.$swal.fire({text:"Hay campos requeridos por completar",icon:"error"});case 9:if(!e.continuarGuardado){t.next=18;break}return t.next=12,e.CapturarObservacion();case 12:return e.continuarGuardado&&console.log("guardo"),e.$loading(!0),t.next=16,l["a"].guardarPedido(e.pedido);case 16:o=t.sent,o.value?(e.$loading(!1),m.a.fire("¡EXITO!",o.message,"success"),e.$router.push({path:"/pedidos"})):(e.$loading(!1),e.$swal.fire({text:o.message,icon:"error"}));case 18:case"end":return t.stop()}}),t)})))()},cancelar:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.fire({title:"¡ATENCIÓN!",text:"¿Desea cancelar el registro del pedido?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:t=e.sent,t.value&&window.history.back();case 4:case"end":return e.stop()}}),e)})))()},validarRegistros:function(){var e=!1;return 0===this.pedido.codCliente&&(this.hasErrorCte=!0,e=!0),0===this.pedido.codObra&&(this.hasErrorObra=!0,e=!0),0===this.pedido.codPlanta&&(this.hasErrorPlanta=!0,e=!0),"0"!==this.pedido.cantidad&&0!==this.pedido.cantidad||(this.hasErrorCantidad=!0,e=!0),0===this.pedido.codVendedor&&(this.hasErrorVendedor=!0,e=!0),0===this.pedido.codProducto&&(this.hasErrorProducto=!0,e=!0),e},inicializarDatos:function(){this.pedido={horaSalida:"12:00",fechaSalida:this.todayDate,codCliente:0,codObra:0,codVendedor:0,cantidad:0,precioTotal:0,precioTotalDescuento:0,cierre:!1},this.limpiaDescuento()},numerosDecimales:function(e){var t=e.keyCode?e.keyCode:e.which;1==this.inputSeleccionado?!(t<48||t>57)||46===t&&-1==this.pedido.cantidad.indexOf(".")||e.preventDefault():2==this.inputSeleccionado?!(t<48||t>57)||46===t&&-1==this.pedido.cantidadCierre.indexOf(".")||e.preventDefault():3==this.inputSeleccionado&&(!(t<48||t>57)||46===t&&-1==this.cierreNuevo.indexOf(".")||e.preventDefault())},onFocus:function(e){this.inputSeleccionado=e},cargaPedido:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,o,r,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.parametro>0)){t.next=17;break}return a=new Date,o=new Date(a.getFullYear(),a.getMonth(),a.getDate()),r=o.toISOString().slice(0,10),i=0,n=0,e.$loading(!0),t.next=9,l["a"].obtenerPedidos(e.parametro,r,r).then((function(t){t.value?(e.pedido.folioPedido=t.data[0].folioPedido,e.pedido.codVendedor=t.data[0].codVendedor,n=t.data[0].codCliente,e.pedido.horaSalida=t.data[0].horaSalida,e.pedido.fechaSalida=t.data[0].fechaSalida,e.pedido.cierre=t.data[0].cierre,e.pedido.cantidadCierre=t.data[0].cantidadCierre,e.pedido.cantidad=t.data[0].cantidad,e.pedido.cantidadTotal=e.pedido.cantidadCierre,e.pedido.tieneCierres=t.data[0].tieneCierres,e.pedido.codProducto=t.data[0].codProducto,e.pedido.estatus=t.data[0].estatus,e.pedido.tieneDescuento=t.data[0].tieneDescuento,e.pedido.porcentajeDescuento=t.data[0].porcentajeDescuento,e.pedido.tieneFibra=t.data[0].tieneFibra,e.pedido.tieneImper=t.data[0].tieneImper,e.pedido.bombeado=t.data[0].bombeado,i=t.data[0].codObra,e.pedido.codPlanta=t.data[0].codPlanta,e.$loading(!1)):(e.$loading(!1),e.$swal.fire({text:"".concat(t.message),icon:"error"}),e.$router.push({path:"/pedidos"}))}));case 9:return t.next=11,e.obtenerClientes();case 11:return e.pedido.codCliente=n,t.next=14,e.obtenerObras();case 14:return e.pedido.codObra=i,t.next=17,e.obtenerFormulaProducto(e.pedido.codProducto);case 17:case"end":return t.stop()}}),t)})))()},buscarCierres:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.mostrarCierres){t.next=4;break}e.mostrarCierres=!1,t.next=7;break;case 4:return e.$loading(!0),t.next=7,l["a"].obtenerCierres(e.pedido.folioPedido).then((function(t){t.value?(e.items=t.data,e.mostrarCierres=!0,e.$loading(!1)):(e.$loading(!1),e.$swal.fire({text:"".concat(t.message),icon:"error"}))}));case 7:case"end":return t.stop()}}),t)})))()},capturaNvoCierre:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.fire({title:"¡ATENCIÓN!",text:"¿Desea crear un nuevo cierre?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:a=t.sent,a.value&&(e.disabledCierres=!0,e.nuevoCierre=!0,e.$nextTick((function(){e.$refs.cierreNvo.focus()})));case 4:case"end":return t.stop()}}),t)})))()},aceptarNuevoCierre:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(parseFloat(e.cierreNuevo)&&e.cierreNuevo>0)){t.next=7;break}return e.$loading(!0),t.next=4,l["a"].guardarCierre(e.pedido.folioPedido,e.cierreNuevo).then((function(t){t.value&&null!=t.data?(m.a.fire("¡EXITO!",t.message,"success"),e.disabledCierres=!1,e.cierreNuevo="",e.cargaPedido(),e.buscarCierres()):m.a.fire("¡ATENCIÓN!",t.message,"error"),e.nuevoCierre=!1}));case 4:e.$loading(!1),t.next=8;break;case 7:m.a.fire("¡ATENCIÓN!","La cantidad del nuevo cierre tiene que ser mayor a 0 mts.","info");case 8:case"end":return t.stop()}}),t)})))()},cancelarNuevoCierre:function(){this.disabledCierres=!1,this.cierreNuevo="",this.nuevoCierre=!1},cierreFuncion:function(){this.pedido.cierre=!this.pedido.cierre},agregarNvaFormula:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.fire({title:"¿Desea crear una nueva fórmula de Producto?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:a=t.sent,a.value&&(e.pedido.codProducto=0,e.nuevaFormula=!0,e.disabledProductos=!0,e.$nextTick((function(){e.$refs.nvaFormula.focus()})));case 4:case"end":return t.stop()}}),t)})))()},aceptarNuevaFormula:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$loading(!0),t.next=3,e.obtenerProducto(e.formulaNueva);case 3:return a={nomenclatura:e.formulaNueva,descripcion:e.pedido.producto},t.next=6,c["a"].guardarFormula(a).then((function(t){if(t.value&&null!=t.data){var a=t.data[0];e.$swal.fire({text:t.message,icon:"success"}),e.disabledProductos=!1,e.cargarFormulas(0),e.pedido.codProducto=a}else e.$swal.fire({text:t.message,icon:"error"});e.nuevaFormula=!1}));case 6:e.$loading(!1);case 7:case"end":return t.stop()}}),t)})))()},cargarFormulas:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$loading(!0),a.next=3,t.obtenerFormulas(e);case 3:o=a.sent,o.value&&o.data.forEach((function(e){var a={value:e.codigo,text:"".concat(e.nomenclatura," - ").concat(e.descripcion),producto:e.nomenclatura};t.formulas.push(a)})),t.$loading(!1);case 6:case"end":return a.stop()}}),a)})))()},obtenerFormulas:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].obtenerFormulas(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},filterState:function(){var e=this;this.formulasFiltradas=this.formulas.filter((function(t){var a=t.text.toString().toUpperCase(),o=t.producto.toString().toUpperCase(),r=e.state.trim().toUpperCase();return a.includes(r)||o.includes(r)}))},setState:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.pedido.codProducto=e.value,t.state=e.text,t.pedido.producto=e.producto,t.modal=!1,t.mostrarProducto=!0,t.hasErrorProducto=!1,t.disabledFormula=!0,a.next=9,t.obtenerPrecios(t.pedido.codCliente,e.value);case 9:case"end":return a.stop()}}),a)})))()},obtenerFormulaProducto:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.formulas.filter((function(t){return t.value==e}));case 2:return o=a.sent,a.next=5,t.setState(o[0]);case 5:case"end":return a.stop()}}),a)})))()},focusInputFormula:function(){this.state.length>0&&(this.modal=!0)},limpiarProducto:function(){var e=this;this.pedido.producto=0,this.pedido.codProducto=0,this.mostrarProducto=!1,this.disabledFormula=!1,this.state="",this.$nextTick((function(){e.$refs.refFormula.focus()}))},habilitarFormula:function(){var e=this;this.disabledFormula=!1,this.pedido.producto=0,this.pedido.codProducto=0,this.mostrarProducto=!1,this.state="",this.$nextTick((function(){e.$refs.refFormula.focus()}))},CapturarObservacion:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.fire({title:"Ingrese una observación:",html:'<textarea id="swal-input2" class="swal2-input" placeholder="Capture una observación" style="margin-top: 20px; margin-bottom: 20px; height: 120px;">',focusConfirm:!1,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#3085d6",preConfirm:function(){a=m.a.getPopup().querySelector("#swal-input2").value;var e=m.a.getPopup().querySelector("#swal-input2");e.style.borderColor=""}});case 2:o=t.sent,r=o.value,r?(e.pedido.observacion=a,e.continuarGuardado=!0):e.continuarGuardado=!1;case 5:case"end":return t.stop()}}),t)})))()}}},v=f,b=(a("77d5"),a("2877")),h=Object(b["a"])(v,o,r,!1,null,"0fe395c9",null);t["default"]=h.exports},ab13:function(e,t,a){var o=a("b622"),r=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},b680:function(e,t,a){"use strict";var o=a("23e7"),r=a("a691"),i=a("408a"),n=a("1148"),c=a("d039"),s=1..toFixed,d=Math.floor,l=function(e,t,a){return 0===t?a:t%2===1?l(e,t-1,a*e):l(e*e,t/2,a)},u=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},p=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){s.call({})}));o({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,a,o,c,s=i(this),p=r(e),m=[0,0,0,0,0,0],f="",v="0",b=function(e,t){var a=-1,o=t;while(++a<6)o+=e*m[a],m[a]=o%1e7,o=d(o/1e7)},h=function(e){var t=6,a=0;while(--t>=0)a+=m[t],m[t]=d(a/e),a=a%e*1e7},g=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==m[e]){var a=String(m[e]);t=""===t?a:t+n.call("0",7-a.length)+a}return t};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(f="-",s=-s),s>1e-21)if(t=u(s*l(2,69,1))-69,a=t<0?s*l(2,-t,1):s/l(2,t,1),a*=4503599627370496,t=52-t,t>0){b(0,a),o=p;while(o>=7)b(1e7,0),o-=7;b(l(10,o,1),0),o=t-1;while(o>=23)h(1<<23),o-=23;h(1<<o),b(1,1),h(2),v=g()}else b(0,a),b(1<<-t,0),v=g()+n.call("0",p);return p>0?(c=v.length,v=f+(c<=p?"0."+n.call("0",p-c)+v:v.slice(0,c-p)+"."+v.slice(c-p))):v=f+v,v}})},bc1d:function(e,t,a){"use strict";var o=a("572a"),r={obtenerUbicacion:function(e){return o["a"].get("/planta/ubicacion/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},obtenerPlanta:function(e){return e=null==e||void 0==e?0:e,o["a"].get("/planta/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))}};t["a"]=r},c8d2:function(e,t,a){var o=a("d039"),r=a("5899"),i="​᠎";e.exports=function(e){return o((function(){return!!r[e]()||i[e]()!=i||r[e].name!==e}))}},caad:function(e,t,a){"use strict";var o=a("23e7"),r=a("4d64").includes,i=a("44d2"),n=a("ae40"),c=n("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:!c},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},e845:function(e,t,a){"use strict";a("99af");var o=a("572a"),r={agentesCombo:function(){return o["a"].get("/agentes/todosCombo").then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerPedidosAgente:function(){return o["a"].get("/agentes/pedidos").then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerClientes:function(e){return o["a"].get("/agentes/clientes/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerProductosXCliente:function(e,t){return o["a"].get("/agentes/productos-cliente/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerDetalleNotasRemisionAgente:function(e){return o["a"].get("/agentes/notas-remision-detalle/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarPrecioProducto:function(e){return o["a"].post("/agentes/guardar-precio-productoXCliente",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}};t["a"]=r},fb6a:function(e,t,a){"use strict";var o=a("23e7"),r=a("861d"),i=a("e8b5"),n=a("23cb"),c=a("50c4"),s=a("fc6a"),d=a("8418"),l=a("b622"),u=a("1dde"),p=a("ae40"),m=u("slice"),f=p("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),b=[].slice,h=Math.max;o({target:"Array",proto:!0,forced:!m||!f},{slice:function(e,t){var a,o,l,u=s(this),p=c(u.length),m=n(e,p),f=n(void 0===t?p:t,p);if(i(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?r(a)&&(a=a[v],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return b.call(u,m,f);for(o=new(void 0===a?Array:a)(h(f-m,0)),l=0;m<f;m++,l++)m in u&&d(o,l,u[m]);return o.length=l,o}})}}]);
//# sourceMappingURL=PedidosRegistro.eca96dff.js.map