{"version":3,"sources":["webpack:///./src/views/configuracion/Noticias.vue?0f6d","webpack:///src/views/configuracion/Noticias.vue","webpack:///./src/views/configuracion/Noticias.vue?7943","webpack:///./src/views/configuracion/Noticias.vue","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/services/servicio-noticias.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","headerBgVariant","headerTextVariant","scopedSlots","_u","key","fn","on","$event","modalShow","_v","GuardarNoticia","proxy","model","value","callback","$$v","expression","directives","name","rawName","noticia","domProps","target","composing","$set","ref","modalPreview","imagen","_m","NuevaNoticia","hover","striped","bordered","items","fields","currentPage","perPage","filter","filterOn","sortBy","sortDesc","sortDirection","onFiltered","row","vistaPrevia","item","idNoticias","editarNoticia","desactivar","activar","totalRows","staticRenderFns","formData","append","file","component","$","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","proto","forced","callbackfn","arguments","length","undefined","servicio","base","get","then","r","data","catch","error","post","headers","err","console","log"],"mappings":"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","file":"js/NoticiasHistorial.c23a61c9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container mt-3\"},[_c('b-modal',{attrs:{\"centered\":\"\",\"size\":\"md\",\"title\":\"Noticias\",\"header-bg-variant\":_vm.headerBgVariant,\"header-text-variant\":_vm.headerTextVariant},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div',{staticClass:\"w-100\"},[_c('b-button',{staticClass:\"float-right\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){_vm.modalShow = false}}},[_vm._v(\" Cancelar \")]),_c('b-button',{staticClass:\"float-right mr-2\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.GuardarNoticia}},[_vm._v(\" Aceptar \")])],1)]},proxy:true}]),model:{value:(_vm.modalShow),callback:function ($$v) {_vm.modalShow=$$v},expression:\"modalShow\"}},[_c('b-container',{staticClass:\"container\",attrs:{\"fluid\":\"\"}},[_c('div',{staticClass:\"col-12\"},[_c('strong',[_c('label',[_vm._v(\"Titulo\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.noticia.titulo),expression:\"noticia.titulo\"},{name:\"selectonfocus\",rawName:\"v-selectonfocus\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.noticia.titulo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.noticia, \"titulo\", $event.target.value)}}})]),_c('div',{staticClass:\"col-12\"},[_c('strong',[_c('label',[_vm._v(\"Descripci√≥n\")])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.noticia.descripcion),expression:\"noticia.descripcion\"}],staticClass:\"form-control\",attrs:{\"rows\":\"2\"},domProps:{\"value\":(_vm.noticia.descripcion)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.noticia, \"descripcion\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group col-12\"},[_c('label',{staticClass:\"control-label\"},[_vm._v(\"Seleccione una imagen\")]),_c('input',{ref:\"file\",staticClass:\"form-control-file\",attrs:{\"type\":\"file\",\"accept\":\".jpg,.jpeg,.png, .webp\"}})])])],1),_c('b-modal',{attrs:{\"centered\":\"\",\"size\":\"md\",\"title\":\"Vista Previa\",\"header-bg-variant\":_vm.headerBgVariant,\"header-text-variant\":_vm.headerTextVariant},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div',{staticClass:\"w-100\"},[_c('b-button',{staticClass:\"float-right mr-2\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){_vm.modalPreview = false}}},[_vm._v(\"Aceptar \")])],1)]},proxy:true}]),model:{value:(_vm.modalPreview),callback:function ($$v) {_vm.modalPreview=$$v},expression:\"modalPreview\"}},[_c('b-container',{staticClass:\"container\",attrs:{\"fluid\":\"\"}},[[_c('img',{staticClass:\"d-block img-fluid w-100\",attrs:{\"width\":\"200\",\"height\":\"200\",\"src\":'data:image/jpeg;base64,'+_vm.noticia.imagen,\"alt\":\"image slot\"}})]],2)],1),_vm._m(0),_c('b-row',{staticClass:\"my-2\"},[_c('b-col',{staticClass:\" text-center col-md-9\"}),_c('b-col',{staticClass:\" text-center col-md-3\"},[_c('b-button',{staticClass:\"btn btn-sm py-1 mt-1 btn-block\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.NuevaNoticia()}}},[_c('i',{staticClass:\"fa fa-plus\"}),_vm._v(\" Nuevo \")])],1)],1),_c('b-table',{attrs:{\"small\":\"\",\"stacked\":\"md\",\"head-variant\":\"dark\",\"hover\":_vm.hover,\"striped\":_vm.striped,\"bordered\":_vm.bordered,\"items\":_vm.items,\"fields\":_vm.fields,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"filter\":_vm.filter,\"filterIncludedFields\":_vm.filterOn,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"sort-direction\":_vm.sortDirection,\"fixed\":\"\"},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell(acciones)\",fn:function(row){return [_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.vistaPrevia(row.item.idNoticias)}}},[_c('i',{staticClass:\"fas fa-newspaper\"}),_vm._v(\" Vista Previa\")]),_c('b-button',{staticClass:\"ml-2\",attrs:{\"size\":\"sm\",\"variant\":\"info\"},on:{\"click\":function($event){return _vm.editarNoticia(row.item)}}},[_c('i',{staticClass:\"fas fa-edit\"}),_vm._v(\" Editar\")]),(row.item.activado)?_c('b-button',{staticClass:\"ml-2\",attrs:{\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.desactivar(row.item.idNoticias)}}},[_c('i',{staticClass:\"fas fa-eye\"}),_vm._v(\" Mostrando\")]):_c('b-button',{staticClass:\"ml-2\",attrs:{\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.activar(row.item.idNoticias)}}},[_c('i',{staticClass:\"fas fa-eye\"}),_vm._v(\" Sin mostrar\")])]}}])}),_c('b-pagination',{staticClass:\"mt-1\",attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"center\",\"aria-controls\":\"my-table\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-3\"},[_c('h3',[_c('i',{staticClass:\"fas fa-newspaper\"}),_vm._v(\" Noticias\")]),_c('hr')])}]\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\r\n<div class=\"container mt-3\">\r\n\r\n    <!-- Modal agregar noticia -->\r\n    <b-modal v-model=\"modalShow\"\r\n            centered\r\n            size=\"md\"\r\n            title=\"Noticias\"\r\n            :header-bg-variant=\"headerBgVariant\"\r\n            :header-text-variant=\"headerTextVariant\">\r\n        <b-container fluid class=\"container\">\r\n            <div class=\"col-12\">\r\n\t\t\t\t<strong><label>Titulo</label></strong>\r\n                <input v-model=\"noticia.titulo\"\r\n                        v-selectonfocus\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclass=\"form-control\"/>\r\n            </div>\r\n\r\n\t\t\t<div class=\"col-12\">\r\n                <strong><label>Descripci√≥n</label></strong>\r\n                <!-- v-model=\"\" -->\r\n\t\t\t\t<textarea v-model=\"noticia.descripcion\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t\trows=\"2\"/>\r\n            </div>\r\n\r\n            <div class=\"form-group col-12\">\r\n                <label class=\"control-label\">Seleccione una imagen</label>\r\n                <input type=\"file\" ref=\"file\"  class=\"form-control-file\" accept=\".jpg,.jpeg,.png, .webp\">\r\n            </div>\r\n\r\n        </b-container>\r\n\r\n        <template #modal-footer>\r\n          <div class=\"w-100\">\r\n\r\n\t\t\t<b-button @click=\"modalShow = false\"\r\n\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\tclass=\"float-right\"> \r\n              Cancelar\r\n            </b-button>\r\n            <b-button @click=\"GuardarNoticia\"\r\n\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\tclass=\"float-right mr-2\">\r\n              Aceptar\r\n            </b-button>\r\n\r\n\t\t\t\r\n          </div>\r\n        </template>\r\n\r\n    </b-modal>\r\n\r\n    <!-- Modal vista previa -->\r\n    <b-modal v-model=\"modalPreview\"\r\n            centered\r\n            size=\"md\"\r\n            title=\"Vista Previa\"\r\n            :header-bg-variant=\"headerBgVariant\"\r\n            :header-text-variant=\"headerTextVariant\">\r\n            \r\n        <b-container fluid class=\"container\">\r\n\r\n            <template>\r\n                <img class=\"d-block img-fluid w-100\"\r\n                    width=\"200\" height=\"200\"\r\n                    :src=\"'data:image/jpeg;base64,'+noticia.imagen\"\r\n                    alt=\"image slot\">\r\n            </template>\r\n\r\n        </b-container>\r\n\r\n        <template #modal-footer>\r\n            <div class=\"w-100\">\r\n                <b-button @click=\"modalPreview = false\"\r\n                            variant=\"primary\"\r\n                            class=\"float-right mr-2\">Aceptar\r\n                </b-button>\r\n          </div>\r\n        </template>\r\n\r\n    </b-modal>\r\n\r\n    <div class=\"mt-3\">\r\n        <h3><i class=\"fas fa-newspaper\"></i> Noticias</h3>\r\n        <hr>\r\n    </div>\r\n\r\n    <!-- User Interface controls -->\r\n    <b-row class=\"my-2\">\r\n        <!-- FALTA VERIFICAR COMO TOMAR LOS PERMISOS -->\r\n        <b-col class=\" text-center col-md-9\"/>\r\n        <b-col class=\" text-center col-md-3\">\r\n            <b-button @click=\"NuevaNoticia()\"\r\n                    variant=\"primary\"\r\n                    class=\"btn btn-sm py-1 mt-1 btn-block\">\r\n                <i class=\"fa fa-plus\"></i> Nuevo\r\n            </b-button>\r\n        </b-col>\r\n    </b-row>\r\n\r\n    <!-- Main table element -->\r\n    <b-table small\r\n            stacked=\"md\"\r\n            head-variant=\"dark\"\r\n            :hover=\"hover\"\r\n            :striped=\"striped\"\r\n            :bordered=\"bordered\"\r\n            :items=\"items\"\r\n            :fields=\"fields\"\r\n            :current-page=\"currentPage\"\r\n            :per-page=\"perPage\"\r\n            :filter=\"filter\"\r\n            :filterIncludedFields=\"filterOn\"\r\n            :sort-by.sync=\"sortBy\"\r\n            :sort-desc.sync=\"sortDesc\"\r\n            :sort-direction=\"sortDirection\"\r\n            fixed\r\n            @filtered=\"onFiltered\">\r\n\r\n        <template v-slot:cell(acciones)=\"row\" >\r\n            <b-button size=\"sm\" variant=\"primary\" @click=\"vistaPrevia(row.item.idNoticias)\"><i class=\"fas fa-newspaper\"></i> Vista Previa</b-button>\r\n            <b-button size=\"sm\" variant=\"info\" @click=\"editarNoticia(row.item)\" class=\"ml-2\" ><i class=\"fas fa-edit\"></i> Editar</b-button>\r\n            <b-button size=\"sm\" variant=\"success\" v-if=\"row.item.activado\" @click=\"desactivar(row.item.idNoticias)\" class=\"ml-2\"><i class=\"fas fa-eye\"></i> Mostrando</b-button>\r\n            <b-button size=\"sm\" variant=\"danger\" v-else @click=\"activar(row.item.idNoticias)\" class=\"ml-2\"><i class=\"fas fa-eye\"></i> Sin mostrar</b-button>\r\n        </template>\r\n\r\n    </b-table>\r\n        \r\n    <b-pagination v-model=\"currentPage\"\r\n                    class=\"mt-1\"\r\n                    :total-rows=\"totalRows\"\r\n                    :per-page=\"perPage\"\r\n                    align=\"center\"\r\n                    aria-controls=\"my-table\">\r\n    </b-pagination>\r\n    \r\n    \r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport servicio from \"@/services/servicio-noticias\";\r\n\r\nexport default {\r\n    data(){\r\n\r\n        return{\r\n            items: [],\r\n            totalRows: 1,\r\n            currentPage: 1,\r\n            perPage: 5,\r\n            pageOptions: [5, 10, 15],\r\n            sortBy: \"\",\r\n            sortDesc: false,\r\n            bordered: true,\r\n            hover: true,\r\n            striped: true,\r\n            sortDirection: \"asc\",\r\n            filter: null,\r\n            filterOn: [],\r\n            fields: [\r\n                { key: \"titulo\", label: \"Titulo\", sortable: true, sortDirection: \"desc\", },\r\n                { key: \"descripcion\", label: \"Descripci√≥n\", sortable: true, sortDirection: \"desc\", },\r\n                { key: \"acciones\", label: \"\", sortable: true, sortDirection: \"desc\", },\r\n            ],\r\n            modalShow: false,\r\n            headerBgVariant: \"dark\",\r\n            headerTextVariant: \"light\",\r\n\r\n            noticia: {\r\n                idNoticias: 0,\r\n\t\t\t\ttitulo: \"\",\r\n\t\t\t\tdescripcion: \"\",\r\n\t\t\t\timagen: \"\",\r\n\t\t\t},\r\n\r\n            modalPreview: false,\r\n           \r\n        }\r\n    },\r\n    components: {\r\n        // TableSortable,\r\n    },\r\n    async mounted() {\r\n        await this.ObtenerNoticias();\r\n        await this.CargarRenglones();\r\n    },\r\n    created() {\r\n    },\r\n    computed: {\r\n        sortOptions() {\r\n            // Create an options list from our fields\r\n            return this.fields\r\n                        .filter((f) => f.sortable)\r\n                        .map((f) => {\r\n                            return { text: f.label, value: f.key };\r\n                        });\r\n        },\r\n    },\r\n    methods: {\r\n\r\n        onFiltered(filteredItems) {\r\n            // Trigger pagination to update the number of buttons/pages due to filtering\r\n            this.totalRows = filteredItems.length;\r\n            this.currentPage = 1;\r\n        },\r\n\r\n        async ObtenerNoticias() {\r\n            this.$loading(true);\r\n            await\r\n            servicio.obtenerNoticias()\r\n                    .then((r) => {\r\n                        console.log('R', r);\r\n                        this.items = r.data;\r\n                        this.$loading(false);\r\n                    })\r\n                    .catch((error) => {\r\n                        console.log(error);\r\n                    });\r\n        },\r\n\r\n        CargarRenglones() {\r\n            \r\n                this.totalRows = this.items.length;\r\n           \r\n        },\r\n\r\n        NuevaNoticia() {\r\n            this.noticia = {\r\n                idNoticias: 0,\r\n                titulo: \"\",\r\n                descripcion: \"\",\r\n                imagen: \"\",\r\n            };\r\n            this.modalShow = true;\r\n        },\r\n\r\n        async GuardarNoticia() {\r\n            const archivosPermitidos = [\"image/jpeg\",\"image/png\"];\r\n            const file = this.$refs.file.files[0];\r\n\r\n            if (!file || archivosPermitidos.indexOf(this.$refs.file.files[0].type) == -1) {\r\n                // this.archivo = false;\r\n\r\n                if(this.noticia.idNoticias == 0) {\r\n                    await\r\n                    this.$swal.fire({\r\n                        title: 'ATENCI√ìN',\r\n                        text: \"Debe de seleccionar una imagen para poder guardar la noticia.\",\r\n                        icon: 'warning',\r\n                    })\r\n                    return;\r\n                }\r\n                \r\n            }\r\n            \r\n            this.$loading(true)\r\n\r\n            await\r\n            this.$swal.fire({\r\n                title: 'ATENCI√ìN',\r\n                text: \"¬øDesea agregar una nueva noticia?\",\r\n                icon: 'question',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Si',\r\n                cancelButtonText: 'Cancelar'\r\n            }).then((result) => {                \r\n                if (result.value) {\r\n\r\n                    let formData = new FormData();\r\n                    formData.append('titulo', this.noticia.titulo);\r\n                    formData.append('descripcion', this.noticia.descripcion);\r\n                    formData.append('idNoticias', this.noticia.idNoticias);\r\n                    formData.append('file', file);\r\n                    \r\n                    servicio.guardarNoticia( formData )\r\n                    .then((response) => {\r\n                        console.log(response);\r\n                        this.modalShow = false;\r\n                        this.$swal.fire({\r\n                            title: \"¬°ATENCI√ìN!\",\r\n                            text: \"Se guardo correctamente la noticia.\",\r\n                            icon: \"success\"\r\n                        });\r\n                        this.ObtenerNoticias();\r\n\r\n                        this.noticia = {\r\n                            titulo: \"\",\r\n                            descripcion: \"\",\r\n                            imagen: \"\",\r\n                        };\r\n                        \r\n                    })\r\n                    .catch(error => {\r\n                        this.$loading(false)\r\n                        console.error(error);\r\n                    })\r\n                    .finally(() => {\r\n                        this.$loading(false)\r\n                    });\r\n                  \r\n                }\r\n            })\r\n            await this.ObtenerNoticias();\r\n            await this.CargarRenglones();\r\n        },\r\n        async desactivar(id){\r\n            let noticia = {\r\n            idNoticias : id,\r\n            activado :0\r\n            }\r\n            await servicio.desactivarNoticia(noticia).then((r) => {\r\n                this.ObtenerNoticias();\r\n                this.CargarRenglones();\r\n                console.log(r)\r\n            })\r\n        },\r\n        async activar(id){\r\n            let noticia = {\r\n            idNoticias : id,\r\n            activado : 1\r\n            }\r\n            await servicio.desactivarNoticia(noticia).then((r) => {\r\n                this.ObtenerNoticias();\r\n                this.CargarRenglones();\r\n                console.log(r)\r\n            })\r\n        },\r\n        async vistaPrevia(idNoticias) {\r\n            this.$loading(true);\r\n            await servicio\r\n                .obtenerImagen(idNoticias)\r\n                .then((r) => {\r\n                    console.log(r.data.noticia[0].imagen)\r\n                    this.noticia.imagen = r.data.noticia[0].imagen\r\n                    // this.noticia.imagen = item.imagen;\r\n                    this.modalPreview = true; \r\n                    \r\n                })\r\n            this.$loading(false);\r\n        },\r\n\r\n        async editarNoticia(item) {\r\n            this.noticia = {\r\n                idNoticias: item.idNoticias,\r\n                titulo: item.titulo,\r\n                descripcion: item.descripcion,\r\n                imagen: \"\",\r\n            };\r\n            console.log(this.noticia)\r\n            this.modalShow = true;\r\n            await this.ObtenerNoticias();\r\n            await this.CargarRenglones();\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    \r\n\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Noticias.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Noticias.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Noticias.vue?vue&type=template&id=1ed70026&scoped=true&\"\nimport script from \"./Noticias.vue?vue&type=script&lang=js&\"\nexport * from \"./Noticias.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ed70026\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import base from '@/services/servicio-base'\r\n// import axios from 'axios';\r\n\r\nconst servicio = {}\r\n\r\n//............................................................ \r\n//                      N O T I C I A S\r\n//............................................................\r\n\r\nservicio.obtenerNoticias = () => {\r\n    return base.get(`/noticias/todas`)\r\n        .then(r => {\r\n            return r.data;\r\n        })\r\n        .catch(error => {\r\n            return error;\r\n        })\r\n}\r\n\r\nservicio.obtenerImagen = (idNoticias) => {\r\n    return base.get(`/noticias/noticia/${idNoticias}`)\r\n    .then(r => {\r\n        return r.data;\r\n    })\r\n    .catch(error => {\r\n        return error;\r\n    })\r\n}\r\n\r\n\r\nservicio.desactivarNoticia = (noticia) =>{\r\n    return base.post(\"/noticias/desactivar\", noticia, {\r\n        headers:{\r\n            'Content-Type': 'application/json'\r\n        }\r\n    })\r\n    .then(r => {\r\n        return r.data\r\n    })\r\n    .catch(err => {\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nservicio.guardarNoticia = (formData) => {\r\n    return base.post('/noticias/registrarNoticia/', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n        .then(r => {\r\n            return r.data\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport default servicio"],"sourceRoot":""}