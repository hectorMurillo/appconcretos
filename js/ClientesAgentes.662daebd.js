(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ClientesAgentes"],{"159b":function(e,t,n){var r=n("da84"),o=n("fdbc"),a=n("17c2"),s=n("9112");for(var i in o){var c=r[i],l=c&&c.prototype;if(l&&l.forEach!==a)try{s(l,"forEach",a)}catch(u){l.forEach=a}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,o=n("a640"),a=n("ae40"),s=o("forEach"),i=a("forEach");e.exports=s&&i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},3744:function(e,t,n){},4160:function(e,t,n){"use strict";var r=n("23e7"),o=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"51c3":function(e,t,n){"use strict";var r=n("3744"),o=n.n(r);o.a},7262:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mt-3"},[e._m(0),n("hr"),n("div",{staticClass:"row"},[n("div",{staticClass:"form-group col-sm-12 col-md-3 mb-2"},[n("label",[e._v("Vendedor")]),n("div",{staticClass:"input-group"},[n("b-form-select",{attrs:{id:"cboVendedor",options:e.vendedores,disabled:e.disabledVendedor},on:{change:e.obtenerClientes},model:{value:e.agente.codVendedor,callback:function(t){e.$set(e.agente,"codVendedor",t)},expression:"agente.codVendedor"}})],1)])]),n("div",[n("hr"),n("b-row",{staticClass:"my-2"},[n("b-col",{attrs:{md:"4"}},[n("b-form-group",{attrs:{label:"Filtrar","label-cols-sm":"1","label-cols-md":"2","label-size":"sm","label-for":"filterInput"}},[n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe el filtro...",autocomplete:"off"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),n("b-input-group-append",[n("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[n("i",{staticClass:"fas fa-times"})])],1)],1)],1)],1),n("b-col",{attrs:{md:"3"}},[n("b-form-group",{attrs:{label:"Por página","label-cols-sm":"2","label-cols-md":"2","label-cols-lg":"4","label-size":"sm","label-for":"perPageSelect"}},[n("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1),n("b-table",{attrs:{small:"",stacked:"md","head-variant":"dark",hover:e.hover,striped:e.striped,bordered:e.bordered,items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(estatusNuevo)",fn:function(t){return["A"==t.item.estatusNuevo?n("b-badge",{staticClass:"p-2",attrs:{variant:"success"}},[e._v("Activo")]):e._e(),"DC"==t.item.estatusNuevo?n("b-badge",{staticClass:"p-2",attrs:{variant:"danger"}},[e._v("Detenido Límite Crédito")]):e._e()]}}])}),n("b-pagination",{staticClass:"mt-1",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"center","aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-3"},[n("h3",[n("i",{staticClass:"fas fa-users"}),e._v(" Clientes Agentes")])])}],a=(n("4de4"),n("4160"),n("d81d"),n("159b"),n("96cf"),n("1da1")),s=n("e845"),i={data:function(){return{vendedores:[{value:0,text:"Todos"}],clientes:[],agente:{codVendedor:0},disabledVendedor:!1,datos:!1,items:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,bordered:!0,hover:!0,striped:!0,sortDirection:"asc",filter:null,filterOn:[],fields:[{key:"nombreComercial",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"creditoFormat",label:"Credito",sortable:!0,class:"text-center"},{key:"fechaCorta",label:"Fecha Registro",sortable:!0,sortDirection:"desc"},{key:"telefono",label:"Telefono",sortable:!0,class:"text-center"},{key:"estatusNuevo",label:"Estatus",sortable:!0,class:"text-center"}]}},components:{},mounted:function(){},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.usuario),1!==e.usuario.agente){t.next=9;break}return e.vendedores=[{value:e.usuario.codEmpleado,text:e.usuario.nombre}],e.agente.codVendedor=e.vendedores[0].value,e.disabledVendedor=!0,t.next=7,e.obtenerClientes();case 7:t.next=12;break;case 9:return e.disabledVendedor=!1,t.next=12,e.obtenerVendedores();case 12:case"end":return t.stop()}}),t)})))()},computed:{sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},methods:{obtenerClientes:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],e.$loading(!0),t.next=4,s["a"].obtenerClientes(e.agente.codVendedor).then((function(t){console.log(t.data),e.items=t.data,e.$loading(!1)})).catch((function(t){console.log(t),e.$loading(!1)}));case 4:case"end":return t.stop()}}),t)})))()},obtenerVendedores:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.vendedores=[{value:0,text:"Seleccione el vendedor"}],e.$loading(!0),t.next=4,s["a"].agentesCombo().then((function(t){t.value&&t.data.forEach((function(t){var n={value:t.codVendedor,text:t.nombreVendedor};e.vendedores.push(n)}))}));case 4:e.$loading(!1);case 5:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},CargarRenglones:function(){var e=this;setTimeout((function(){e.totalRows=e.items.length}),1e3)}}},c=i,l=(n("51c3"),n("2877")),u=Object(l["a"])(c,r,o,!1,null,"7a0fff4c",null);t["default"]=u.exports},8418:function(e,t,n){"use strict";var r=n("c04e"),o=n("9bf2"),a=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?o.f(e,s,a(0,n)):e[s]=n}},"99af":function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),a=n("e8b5"),s=n("861d"),i=n("7b0b"),c=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),f=n("b622"),b=n("2d00"),g=f("isConcatSpreadable"),p=9007199254740991,m="Maximum allowed index exceeded",h=b>=51||!o((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),v=d("concat"),C=function(e){if(!s(e))return!1;var t=e[g];return void 0!==t?!!t:a(e)},x=!h||!v;r({target:"Array",proto:!0,forced:x},{concat:function(e){var t,n,r,o,a,s=i(this),d=u(s,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?s:arguments[t],C(a)){if(o=c(a.length),f+o>p)throw TypeError(m);for(n=0;n<o;n++,f++)n in a&&l(d,f,a[n])}else{if(f>=p)throw TypeError(m);l(d,f++,a)}return d.length=f,d}})},d81d:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").map,a=n("1dde"),s=n("ae40"),i=a("map"),c=s("map");r({target:"Array",proto:!0,forced:!i||!c},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},e845:function(e,t,n){"use strict";n("99af");var r=n("572a"),o={agentesCombo:function(){return r["a"].get("/agentes/todosCombo").then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerPedidosAgente:function(){return r["a"].get("/agentes/pedidos").then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerClientes:function(e){return r["a"].get("/agentes/clientes/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerProductosXCliente:function(e,t){return r["a"].get("/agentes/productos-cliente/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},obtenerDetalleNotasRemisionAgente:function(e){return r["a"].get("/agentes/notas-remision-detalle/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},guardarPrecioProducto:function(e){return r["a"].post("/agentes/guardar-precio-productoXCliente",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}};t["a"]=o},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=ClientesAgentes.662daebd.js.map