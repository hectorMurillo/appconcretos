(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["EntradasSalidasRegistro"],{"159b":function(a,t,e){var n=e("da84"),o=e("fdbc"),r=e("17c2"),i=e("9112");for(var s in o){var c=n[s],l=c&&c.prototype;if(l&&l.forEach!==r)try{i(l,"forEach",r)}catch(u){l.forEach=r}}},"17c2":function(a,t,e){"use strict";var n=e("b727").forEach,o=e("a640"),r=e("ae40"),i=o("forEach"),s=r("forEach");a.exports=i&&s?[].forEach:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}},2662:function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"container mt-3"},[e("div",{staticClass:"mt-3"},[a.entradaSalida.entrada?e("h3",[e("i",{staticClass:"fas fa-truck-moving"}),a._v(" Nueva Entrada")]):a._e(),a.entradaSalida.entrada?a._e():e("h3",[e("i",{staticClass:"fas fa-truck-moving"}),a._v(" Nueva Salida")])]),e("hr"),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"form-group col-sm-12 col-md-6"},[e("label",[a._v("Planta")]),e("div",{staticClass:"input-group"},[e("b-form-select",{attrs:{id:"cboPlantas",options:a.plantas},model:{value:a.entradaSalida.codPlanta,callback:function(t){a.$set(a.entradaSalida,"codPlanta",t)},expression:"entradaSalida.codPlanta"}})],1)]),e("div",{staticClass:"form-group col-sm-12 col-md-6"},[e("label",[a._v("Nota Remisión")]),e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.notaRemision,expression:"notaRemision"}],staticClass:"form-control",on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){var t="_value"in a?a._value:a.value;return t}));a.notaRemision=t.target.multiple?e:e[0]},a.obtenerDatosNotaRemision]}},a._l(a.notas,(function(t){return e("option",{key:t.codigo,domProps:{value:t}},[a._v(" "+a._s(t.text)+" ")])})),0)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2"},[e("label",[a._v("Equipo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.notaRemision.equipo,expression:"notaRemision.equipo"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:a.notaRemision.equipo},on:{input:function(t){t.target.composing||a.$set(a.notaRemision,"equipo",t.target.value)}}})]),e("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6"},[e("label",[a._v("Operador")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.notaRemision.operador,expression:"notaRemision.operador"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:a.notaRemision.operador},on:{input:function(t){t.target.composing||a.$set(a.notaRemision,"operador",t.target.value)}}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2"},[e("label",[a._v("Kilometraje")]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.notaRemision.ultimoKilometraje,expression:"notaRemision.ultimoKilometraje"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture el kilometraje de la unidad."},domProps:{value:a.notaRemision.ultimoKilometraje},on:{focus:function(t){return a.onFocus(1)},keypress:a.numerosDecimales,input:function(t){t.target.composing||a.$set(a.notaRemision,"ultimoKilometraje",t.target.value)}}})])]),e("div",{staticClass:"form-group col-sm-12 col-md-6 col-lg-6 col-xl-6"},[e("label",[a._v("Horometraje")]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.notaRemision.ultimoHorometraje,expression:"notaRemision.ultimoHorometraje"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture el horometraje de la unidad."},domProps:{value:a.notaRemision.ultimoHorometraje},on:{focus:function(t){return a.onFocus(2)},keypress:a.numerosDecimales,input:function(t){t.target.composing||a.$set(a.notaRemision,"ultimoHorometraje",t.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-sm-12 col-md-6"},[e("label",[a._v("Observación")]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.entradaSalida.observacion,expression:"entradaSalida.observacion"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture la observación."},domProps:{value:a.entradaSalida.observacion},on:{input:function(t){t.target.composing||a.$set(a.entradaSalida,"observacion",t.target.value)}}})])])]),e("b-row",{staticClass:"my-3"},[e("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),e("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[e("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:a.GuardarEntradasSalidas}},[e("i",{staticClass:"fa fa-save"}),a._v(" Guardar ")])],1),e("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[e("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:a.CancelarEntradaSalida}},[a._v(" Cancelar ")])],1)],1)],1)])},o=[],r=(e("4160"),e("c975"),e("159b"),e("96cf"),e("1da1")),i=e("3d20"),s=e.n(i),c=e("404d"),l=e("28f5"),u=e("bc1d"),d={data:function(){return{notas:[{value:0,text:"Seleccione una nota de remisión",codOperador:0,codEquipo:0,operador:"",equipo:"",idNotasRemisionEnc:0,ultimoKm:0,ultimoHrm:0}],notaRemision:[],inputSeleccionado:0,entradaSalida:{ultimoKilometraje:0,ultimoHorometraje:0,observacion:"",entrada:!1,notaRemision:0,codEquipo:0,CodOperador:0,idNotasRemisionEnc:0,codPlanta:0,bacha:0},selected:0,options:[{item:0,name:"Realizar Tiro"},{item:1,name:"Cambio de Planta"}],plantas:[{value:0,text:"Seleccione una planta"}]}},components:{},mounted:function(){this.obtenerNotasRemision(),this.obtenerPlantas()},created:function(){this.entradaSalida.entrada=1==this.$route.params.entrada},computed:{},methods:{obtenerNotasRemision:function(){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.$loading(!0),t.next=3,l["a"].obtenerNotasRemisionEntradasSalidas(a.entradaSalida.entrada).then((function(t){t.value&&(t.data.forEach((function(t){var e={value:t.folio,text:t.folio+" - "+t.cliente,codEquipo:t.codEquipo,codOperador:t.codOperador,equipo:t.equipo,operador:t.operador,idNotasRemisionEnc:t.idNotasRemisionEnc,ultimoKilometraje:t.ultimoKilometraje,ultimoHorometraje:t.ultimoHorometraje,bombeable:t.bombeable};a.notas.push(e)})),a.notaRemision=a.notas[0])}));case 3:a.$loading(!1);case 4:case"end":return t.stop()}}),t)})))()},GuardarEntradasSalidas:function(){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="",e=a.entradaSalida.entrada?"entrada":"salida",console.log(a.entradaSalida),t.next=5,s.a.fire({title:"¡ATENCIÓN!",text:"¿Desea guardar esta "+e+"?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 5:if(n=t.sent,!n.value){t.next=33;break}if(a.entradaSalida.kilometraje=a.notaRemision.ultimoKilometraje,a.entradaSalida.horometraje=a.notaRemision.ultimoHorometraje,!(a.entradaSalida.codPlanta>0)){t.next=32;break}if(!(a.notaRemision.codEquipo>0)){t.next=29;break}if(!(a.notaRemision.codOperador>0)){t.next=26;break}if(!(a.notaRemision.value>0)){t.next=23;break}if(!(a.entradaSalida.horometraje<=0||a.entradaSalida.kilometraje<=0)){t.next=17;break}a.entradaSalida.kilometraje<=0?s.a.fire("¡ATENCIÓN!","Favor de ingresar correctamente el kilometraje.","info"):s.a.fire("¡ATENCIÓN!","Favor de ingresar correctamente el horometraje.","info"),t.next=21;break;case 17:return t.next=19,a.ValidacionDeDatos();case 19:a.$loading(!0),c["a"].guardarEntradasSalidas(a.entradaSalida).then((function(t){t.value?(s.a.fire("¡EXITO!","Se guardo correctamente la "+e,"success"),a.$router.push({path:"/portero/entradas-salidas"})):s.a.fire("¡ATENCIÓN!",t.message,"error"),a.$loading(!1)})).catch((function(t){console.log(t),a.$loading(!1)}));case 21:t.next=24;break;case 23:a.$swal.fire({text:"Favor de seleccionar una nota de remisión.",icon:"warning"});case 24:t.next=27;break;case 26:a.$swal.fire({text:"Favor de seleccionar un operador.",icon:"warning"});case 27:t.next=30;break;case 29:a.$swal.fire({text:"Favor de seleccionar un equipo.",icon:"warning"});case 30:t.next=33;break;case 32:a.$swal.fire({text:"Favor de seleccionar una planta.",icon:"warning"});case 33:case"end":return t.stop()}}),t)})))()},CancelarEntradaSalida:function(){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.$router.push({path:"/portero/entradas-salidas/"});case 1:case"end":return t.stop()}}),t)})))()},numerosDecimales:function(a){var t=a.keyCode?a.keyCode:a.which;1==this.inputSeleccionado?!(t<48||t>57)||46===t&&-1==this.entradaSalida.kilometraje.indexOf(".")||a.preventDefault():2==this.inputSeleccionado&&(!(t<48||t>57)||46===t&&-1==this.entradaSalida.horometraje.indexOf(".")||a.preventDefault())},onFocus:function(a){this.inputSeleccionado=a},ValidacionDeDatos:function(){""==this.entradaSalida.observacion&&(this.entradaSalida.observacion=""),""==this.entradaSalida.kilometraje&&(this.entradaSalida.kilometraje=0),""==this.entradaSalida.horometraje&&(this.entradaSalida.horometraje=0),this.entradaSalida.notaRemision=this.notaRemision.value,this.entradaSalida.codEquipo=this.notaRemision.codEquipo,this.entradaSalida.codOperador=this.notaRemision.codOperador,this.entradaSalida.idNotasRemisionEnc=this.notaRemision.idNotasRemisionEnc},obtenerDatosNotaRemision:function(){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.notaRemision.bombeable){t.next=10;break}return t.next=3,a.$swal.fire({text:"¿Fue utilizada la Bacha?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"});case 3:if(e=t.sent,!e.value){t.next=10;break}return t.next=7,a.$swal.fire({title:"Ingrese la cantidad de bacha utilizada:",html:'<input id="swal-input2" class="swal2-input" placeholder="Ingrese la cantidad">',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",preConfirm:function(){n=parseInt(a.$swal.getPopup().querySelector("#swal-input2").value);var t=a.$swal.getPopup().querySelector("#swal-input2");t.style.borderColor="",(""===n||isNaN(n))&&(t.style.borderColor="red",s.a.showValidationMessage("Favor de ingresar una cantidad valida."))}});case 7:o=t.sent,r=o.value,r&&(a.entradaSalida.bacha=n);case 10:case"end":return t.stop()}}),t)})))()},IsNumeric:function(a){console.log("asd"+a)},obtenerPlantas:function(){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.$loading(!0),t.next=3,u["a"].obtenerPlanta(0).then((function(t){t.data.forEach((function(t){var e={value:t.codigo,text:t.descripcion};a.plantas.push(e)}))}));case 3:case"end":return t.stop()}}),t)})))()}}},m=d,f=e("2877"),p=Object(f["a"])(m,n,o,!1,null,"3e33e306",null);t["default"]=p.exports},"28f5":function(a,t,e){"use strict";e("99af");var n=e("572a"),o={obtenerNotasRemision:function(){return n["a"].get("/cobranza/obtenerNotasRemision").then((function(a){return console.log(a),a.data})).catch((function(a){return a}))},ObtenerDatosReporte:function(a){return n["a"].get("/cobranza/obtenerNotasRemision/".concat(a)).then((function(a){return console.log(a),a.data})).catch((function(a){return a}))},obtenerNotasRemisionSurtiendo:function(){return n["a"].get("/cobranza/obtener-notas-surtiendo").then((function(a){return console.log(a),a.data})).catch((function(a){return a}))},obtenerNotasRemisionEntradasSalidas:function(a){return n["a"].get("/cobranza/obtener-notas-remision/".concat(a)).then((function(a){return console.log(a),a.data})).catch((function(a){return a}))},obtenerNotasRemisionCobranza:function(a,t){return n["a"].get("/cobranza/obtener-notas-remision-cobranza/".concat(a,"/").concat(t)).then((function(a){return a.data})).catch((function(a){return a}))},guardarPago:function(a,t){return n["a"].post("/cobranza/notas-remision-guardar-pago/".concat(a,"/").concat(t)).then((function(a){return a.data})).catch((function(a){return a}))},obtenerNotaRemisionCobranza:function(a){return n["a"].get("/cobranza/obtener-nota-remision-cobranza/".concat(a)).then((function(a){return a.data})).catch((function(a){return a}))},obtenerDetalleAbonos:function(a){return n["a"].get("/cobranza/obtener-detalle-abonos-nota-remision-cobranza/".concat(a)).then((function(a){return a.data})).catch((function(a){return a}))}};t["a"]=o},"404d":function(a,t,e){"use strict";e("99af");var n=e("572a"),o={obtenerEntradasSalidas:function(a,t){return n["a"].get("/porteros/obtener-entradas-salidas/".concat(a,"/").concat(t)).then((function(a){return a.data})).catch((function(a){console.log(a)}))},obtenerSuministros:function(a,t){return n["a"].get("/porteros/obtener-suministros/".concat(a,"/").concat(t)).then((function(a){return a.data})).catch((function(a){console.log(a)}))},guardarEntradasSalidas:function(a){return n["a"].post("/porteros/guardar-entradas-salidas",a,{headers:{"Content-Type":"application/json"}}).then((function(a){return a.data})).catch((function(a){console.log(a)}))},guardarSuministros:function(a){return n["a"].post("/porteros/guardar-suministros",a,{headers:{"Content-Type":"application/json"}}).then((function(a){return a.data})).catch((function(a){console.log(a)}))}};t["a"]=o},4160:function(a,t,e){"use strict";var n=e("23e7"),o=e("17c2");n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},8418:function(a,t,e){"use strict";var n=e("c04e"),o=e("9bf2"),r=e("5c6c");a.exports=function(a,t,e){var i=n(t);i in a?o.f(a,i,r(0,e)):a[i]=e}},"99af":function(a,t,e){"use strict";var n=e("23e7"),o=e("d039"),r=e("e8b5"),i=e("861d"),s=e("7b0b"),c=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),m=e("b622"),f=e("2d00"),p=m("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",b=f>=51||!o((function(){var a=[];return a[p]=!1,a.concat()[0]!==a})),g=d("concat"),S=function(a){if(!i(a))return!1;var t=a[p];return void 0!==t?!!t:r(a)},C=!b||!g;n({target:"Array",proto:!0,forced:C},{concat:function(a){var t,e,n,o,r,i=s(this),d=u(i,0),m=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?i:arguments[t],S(r)){if(o=c(r.length),m+o>v)throw TypeError(h);for(e=0;e<o;e++,m++)e in r&&l(d,m,r[e])}else{if(m>=v)throw TypeError(h);l(d,m++,r)}return d.length=m,d}})},bc1d:function(a,t,e){"use strict";var n=e("572a"),o={obtenerUbicacion:function(a){return n["a"].get("/planta/ubicacion/".concat(a)).then((function(a){return a.data})).catch((function(a){return a}))},obtenerPlanta:function(a){return a=null==a||void 0==a?0:a,n["a"].get("/planta/".concat(a)).then((function(a){return a.data})).catch((function(a){return a}))}};t["a"]=o},fdbc:function(a,t){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=EntradasSalidasRegistro.fe13c290.js.map