(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Layout"],{"0859":function(t,i,o){"use strict";o.r(i);var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"bg-white",class:{collapsed:t.layoutCollapsed},attrs:{id:"layout"}},[a("div",[a("sidebar-menu",{attrs:{menu:t.menu,"show-one-child":!0,collapsed:t.layoutCollapsed},on:{"toggle-collapse":t.onToggleCollapse}},[a("span",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"my-5"})])])],1),a("div",{staticClass:"content"},[a("b-navbar",{staticClass:"border",attrs:{type:"light",variant:"light"}},[a("b-navbar-brand",{staticClass:"d-flex align-items-center"},[a("img",{staticStyle:{width:"110px",height:"50px",cursor:"pointer"},attrs:{src:o("e090")},on:{click:t.noticias}}),a("h5",{staticClass:"mx-2 mb-0"},[t._v(t._s(t.titulo))])]),a("b-navbar-nav",{staticClass:"ml-auto font-weight-bold"},[a("b-nav-item",[t._v(" "+t._s(t.usuario.nombre)+" "),a("Notificaciones",{staticClass:"d-inline",attrs:{notificaciones:t.notifLocal,notificacionesPendientes:t.notificacionesPendientes},on:{actualizarNotificaciones:t.actualizarNotificaciones}})],1),a("button",{staticClass:"btn btn-outline-secondary",on:{click:t.logout}},[a("div",{staticClass:"row"},[a("i",{staticClass:"fa fa-sign-out-alt col-2 mt-1"}),a("span",{staticClass:"d-none d-lg-block col-6"},[t._v("Salir ")])])])],1)],1),a("div",{staticClass:"row no-gutters",staticStyle:{background:"white"}},[a("div",{staticClass:"col-12 px-4"},[a("router-view",{staticClass:"router-content mt-4",on:{titulo:function(i){return t.titulo=i}}})],1)])],1)])},n=[],e=(o("4de4"),o("b0c0"),function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",[o("button",{staticClass:"btn  mr-2 p-0 px-1 pr-2",attrs:{type:"button",id:"btnNotificacion"},on:{click:t.marcarVistaNotificaciones}},[o("i",{staticClass:"fas fa-bell fa-lg m-0"}),o("i",{staticClass:"icon-trazado-1103 yellow-bell m-0"},[o("span",{class:{"point-red":null!=t.notificaciones?t.notificaciones.length:0}})])]),o("b-popover",{ref:"popover",attrs:{target:"btnNotificacion",placement:"bottomleft",triggers:"click blur","custom-class":"popover-notificaciones"}},[o("ul",{staticClass:"noti-list"},t._l(t.notificaciones,(function(i){return o("div",{key:i.codNotificacion,staticClass:"row",class:{"no-leidos":!i.redirigido}},[o("li",{staticClass:"noti-item text-truncate"},[o("a",{staticClass:"noti-fuente",attrs:{href:"#/"},on:{click:function(o){return t.redirigeNotificacion(i)}}},[t._v(" "+t._s(i.descripcion)+" - "),o("span",{staticClass:"noti-date"},[t._v(t._s(i.fechaNotifFormat))])])])])})),0),o("hr",{staticClass:"popover-line-bottom"}),o("div",{staticClass:"mt-0"},[o("div",{staticClass:"popover-marcar-todas"},[o("button",{staticClass:"btn btn-inline btn-info btn-marcar-todas",on:{click:function(i){return t.limpiaNotificaciones()}}},[t._v("Marcar como leidas")])])])])],1)}),s=[],c=(o("4160"),o("159b"),o("e178")),r={props:["notificaciones","notificacionesPendientes"],data:function(){return{seleccionaTodo:!1,seleccionados:[]}},methods:{seleccionarTodos:function(){var t=this;this.seleccionaTodos=!this.seleccionaTodos,this.seleccionaTodos?this.notificaciones.forEach((function(i){t.seleccionados.push(i.codNotificacion)})):this.seleccionados=[]},redirigeNotificacion:function(t){var i=this;c["a"].marcarNotificacionRedirigida(!1,t.codNotificacion).then((function(o){o.value&&i.$router.push({path:t.uRLDestino})}))},limpiaNotificaciones:function(){var t=this;c["a"].marcarNotificacionRedirigida(!0).then((function(i){i.value&&t.notificaciones.forEach((function(t){t.redirigido=1}))})).catch((function(t){return console.error(t)}))},marcarVistaNotificaciones:function(){var t=this;return c["a"].marcarNotificacionesVista().then((function(i){i.value&&t.obtenerNotificaciones()}))}}},l=r,u=(o("7e66"),o("2877")),f=Object(u["a"])(l,e,s,!1,null,"523ac53f",null),d=f.exports,h={props:["notificaciones","notificacionesPendientes"],components:{Notificaciones:d},data:function(){return{menu:[],layoutCollapsed:!1,titulo:"",notifLocal:null}},mounted:function(){var t=this;this.cargarMenu(),this.obtenerNotificaciones().then((function(i){t.notifLocal=i.data})).catch((function(t){return console.error(t)}))},methods:{formatearOpciones:function(t){for(var i=[],o=[],a=0;a<t.length;a++){var n=t[a],e=n["id"],s=n["parentid"],c=n["name"],r=n["icon"],l=n["url"];if(o[s]){var u={id:e,parentid:s,title:c,icon:r,href:l};o[s].child||(o[s].child=[]),o[s].child[o[s].child.length]=u,o[e]=u}else o[e]={id:e,parentid:s,title:c,icon:r},i[e]=o[e]}return i=i.filter((function(t){return null!=t.parentid})),i},actualizarNotificaciones:function(t){this.$emit("actualizarNotificaciones",t)},cargarMenu:function(){this.permisos&&(this.layoutCollapsed="true"==localStorage.getItem("layoutCollapsed"),this.menu=this.permisos,this.menu=this.formatearOpciones(this.menu))},logout:function(){window.localStorage.removeItem("tokenWebAdmin"),this.$router.push({name:"login"})},onToggleCollapse:function(t){var i=this;this.layoutCollapsed=t;var o=document.getElementById("tabla-articulos");window.localStorage.setItem("layoutCollapsed",t),this.$nextTick((function(){i.$floatThead.reflow(o),i.$floatThead.ini(o,{position:"absolute",scrollContainer:!0})}))},noticias:function(){this.$router.push({path:"/"})}}},p=h,m=(o("f9be"),Object(u["a"])(p,a,n,!1,null,"56f74b8c",null));i["default"]=m.exports},"159b":function(t,i,o){var a=o("da84"),n=o("fdbc"),e=o("17c2"),s=o("9112");for(var c in n){var r=a[c],l=r&&r.prototype;if(l&&l.forEach!==e)try{s(l,"forEach",e)}catch(u){l.forEach=e}}},"17c2":function(t,i,o){"use strict";var a=o("b727").forEach,n=o("a640"),e=o("ae40"),s=n("forEach"),c=e("forEach");t.exports=s&&c?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,i,o){"use strict";var a=o("23e7"),n=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"7e66":function(t,i,o){"use strict";var a=o("b9a3"),n=o.n(a);n.a},b9a3:function(t,i,o){},d482:function(t,i,o){},e090:function(t,i,o){t.exports=o.p+"img/C2H.4515406f.png"},f9be:function(t,i,o){"use strict";var a=o("d482"),n=o.n(a);n.a},fdbc:function(t,i){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=Layout.baf44c0d.js.map