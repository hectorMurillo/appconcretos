(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SuministrosRegistro"],{"20af":function(t,e,n){"use strict";n("99af");var o=n("572a"),a={equipos:function(t){return null==t||void 0==t||0==t?o["a"].get("/equipos/todos").then((function(t){return t.data})).catch((function(t){return t})):o["a"].get("/equipos/".concat(t)).then((function(t){return console.log("EQUIPO ",t.data),t.data})).catch((function(t){return t}))},guardar:function(t){return console.log(t),o["a"].post("/equipos/guardar",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){return t}))},marcas:function(t){return t=null==t||void 0==t?0:t,o["a"].get("/equipos/marcas/".concat(t)).then((function(t){return t.data})).catch((function(t){return t}))},modelos:function(t){return t=null==t||void 0==t?0:t,o["a"].get("/equipos/modelos/".concat(t)).then((function(t){return t.data})).catch((function(t){return t}))},marcasCombo:function(){return o["a"].get("/equipos/marcasCombo").then((function(t){return t.data})).catch((function(t){return t}))},modelosCombo:function(){return o["a"].get("/equipos/modelosCombo").then((function(t){return t.data})).catch((function(t){return t}))},tanquesDiesel:function(t){return t=null==t||void 0==t?0:t,o["a"].get("/equipos/tanques/".concat(t)).then((function(t){return t.data})).catch((function(t){return t}))},tipoEquipoCombo:function(){return o["a"].get("/equipos/tipoEquipoCombo").then((function(t){return t.data})).catch((function(t){return t}))},obtenerConsumiblesCombo:function(){return o["a"].get("/equipos/consumiblesCombo").then((function(t){return t.data})).catch((function(t){return t}))},guardarMarca:function(t){return o["a"].post("/equipos/guardar/marca",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){return t}))},guardarModelo:function(t){return o["a"].post("/equipos/guardar/modelo",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){return t}))},guardarTanque:function(t){return o["a"].post("/equipos/guardar/tanque",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){return t}))},tiposEquipo:function(t){return t=null==t||void 0==t?0:t,o["a"].get("/equipos/tiposEquipo/".concat(t)).then((function(t){return t.data})).catch((function(t){return t}))},guardarTipoEquipo:function(t){return o["a"].post("/equipos/guardar/tipoEquipo",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){return t}))},entradasSalidas:function(t){return o["a"].get("/equipos/entradasSalidas/".concat(t)).then((function(t){return t.data})).catch((function(t){return t}))},actualizarEstatusEquipo:function(t,e){return o["a"].get("/equipos/actualizar-estatus/".concat(t,"/").concat(e)).then((function(t){return console.log(t),t.data})).catch((function(t){return t}))}};e["a"]=a},"404d":function(t,e,n){"use strict";n("99af");var o=n("572a"),a={obtenerEntradasSalidas:function(t,e){return o["a"].get("/porteros/obtener-entradas-salidas/".concat(t,"/").concat(e)).then((function(t){return t.data})).catch((function(t){console.log(t)}))},obtenerSuministros:function(t,e){return o["a"].get("/porteros/obtener-suministros/".concat(t,"/").concat(e)).then((function(t){return t.data})).catch((function(t){console.log(t)}))},guardarEntradasSalidas:function(t){return o["a"].post("/porteros/guardar-entradas-salidas",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){console.log(t)}))},guardarSuministros:function(t){return o["a"].post("/porteros/guardar-suministros",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){console.log(t)}))}};e["a"]=a},"55c0":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container mt-3"},[t._m(0),n("div",{staticClass:"row mt-3"},[n("div",{staticClass:"form-group col-sm-12 col-md-6 mb-2"},[n("label",[t._v("Equipo")]),n("div",{staticClass:"input-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.equipoSeleccionado,expression:"equipoSeleccionado"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.equipoSeleccionado=e.target.multiple?n:n[0]}}},t._l(t.Equipos,(function(e){return n("option",{key:e.codigo,domProps:{value:e}},[t._v(" "+t._s(e.nombre)+" ")])})),0)])]),n("div",{staticClass:"form-group col-sm-12 col-md-6"},[n("label",[t._v("Operador")]),n("div",{staticClass:"input-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.operadorSeleccionado,expression:"operadorSeleccionado"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.operadorSeleccionado=e.target.multiple?n:n[0]}}},t._l(t.Operadores,(function(e){return n("option",{key:e.codigo,domProps:{value:e}},[t._v(" "+t._s(e.nombreCompleto)+" ")])})),0)])])]),n("div",{staticClass:"form-group col-sm-12 col-md-6"},[n("label",[t._v("Diesel")]),n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.suministros.diesel,expression:"suministros.diesel"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture el nivel de diesel de la unidad."},domProps:{value:t.suministros.diesel},on:{focus:function(e){return t.onFocus(1)},keypress:t.numerosDecimales,input:function(e){e.target.composing||t.$set(t.suministros,"diesel",e.target.value)}}})])]),n("div",{staticClass:"form-group col-sm-12 col-md-6"},[n("label",[t._v("Anticongelante")]),n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.suministros.anticongelante,expression:"suministros.anticongelante"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture el nivel de anticongelante de la unidad."},domProps:{value:t.suministros.anticongelante},on:{focus:function(e){return t.onFocus(2)},keypress:t.numerosDecimales,input:function(e){e.target.composing||t.$set(t.suministros,"anticongelante",e.target.value)}}})])]),n("div",{staticClass:"form-group col-sm-12 col-md-6"},[n("label",[t._v("Aceite")]),n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.suministros.aceite,expression:"suministros.aceite"},{name:"selectonfocus",rawName:"v-selectonfocus"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Capture el nivel de aceite de la unidad."},domProps:{value:t.suministros.aceite},on:{focus:function(e){return t.onFocus(3)},keypress:t.numerosDecimales,input:function(e){e.target.composing||t.$set(t.suministros,"aceite",e.target.value)}}})])]),n("b-row",{staticClass:"mt-5"},[n("b-col",{staticClass:"col-md-6 col-sm-12 col-12",attrs:{"align-self":"end"}}),n("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[n("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"success"},on:{click:t.GuardarSuministros}},[n("i",{staticClass:"fa fa-save"}),t._v(" Guardar ")])],1),n("b-col",{staticClass:"col-md-3 col-sm-12 col-12",attrs:{"align-self":"end"}},[n("b-button",{staticClass:"mr-2 mt-2",attrs:{block:"",variant:"danger"},on:{click:t.CancelarEntradaSalida}},[t._v(" Cancelar ")])],1)],1)],1)])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-3"},[n("h3",[n("i",{staticClass:"fas fa-gas-pump"}),t._v(" Registro")])])}],r=(n("c975"),n("fb6a"),n("96cf"),n("1da1")),i=n("3d20"),s=n.n(i),c=n("20af"),u=n("6cab"),l=n("404d"),d={data:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=e.toISOString().slice(0,10);return{Equipos:[],equipoSeleccionado:[],Operadores:[],operadorSeleccionado:[],historial:!0,desde:n,hasta:n,inputSeleccionado:0,suministros:{diesel:0,anticongelante:0,aceite:0,codEquipo:0,CodOperador:0},parametro:0}},components:{},mounted:function(){this.ObtenerEquipos(),this.ObtenerOperadores()},created:function(){this.parametro=this.$route.params.id,console.log("P->",this.parametro)},computed:{},methods:{Inicializar:function(){this.historial=!0,this.ObtenerEquipos(),this.ObtenerOperadores(),this.suministros={diesel:0,anticongelante:0,aceite:0,codEquipo:0,codOperador:0}},ObtenerEquipos:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.Equipos=[],t.$loading(!0),e.next=4,c["a"].equipos(0).then((function(e){t.Equipos=e.data,t.equipoSeleccionado=t.Equipos[0],t.$loading(!1)})).catch((function(e){console.log(e),t.$loading(!1)}));case 4:case"end":return e.stop()}}),e)})))()},ObtenerOperadores:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.Operadores=[],t.$loading(!0),e.next=4,u["a"].obtenerOperadores(0).then((function(e){console.log(e),t.Operadores=e.data,t.operadorSeleccionado=t.Operadores[0],t.$loading(!1)})).catch((function(e){console.log(e),t.$loading(!1)}));case 4:case"end":return e.stop()}}),e)})))()},GuardarSuministros:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.a.fire({title:"¡ATENCIÓN!",text:"¿Desea guardar los niveles de suministros de la unidad?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:if(n=e.sent,!n.value){e.next=20;break}if(!(t.equipoSeleccionado.codigo>0)){e.next=19;break}if(!(t.operadorSeleccionado.codigo>0)){e.next=16;break}if(0!=t.suministros.diesel||0!=t.suministros.anticongelante||0!=t.suministros.aceite){e.next=10;break}s.a.fire("¡ATENCIÓN!","Favor de ingresar correctamente los datos.","info"),e.next=14;break;case 10:return e.next=12,t.ValidacionDeDatos();case 12:t.$loading(!0),l["a"].guardarSuministros(t.suministros).then((function(e){e.value?(s.a.fire("¡EXITO!","Se guardo correctamente los suministros","success"),t.$router.push({path:"/portero/suministros"})):s.a.fire("¡ATENCIÓN!",e.message,"error"),t.$loading(!1)})).catch((function(e){console.log(e),t.$loading(!1)}));case 14:e.next=17;break;case 16:t.$swal.fire({text:"Favor de seleccionar un equipo",icon:"warning"});case 17:e.next=20;break;case 19:t.$swal.fire({text:"Favor de seleccionar un operador",icon:"warning"});case 20:case"end":return e.stop()}}),e)})))()},CancelarEntradaSalida:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.Inicializar();case 2:case"end":return e.stop()}}),e)})))()},numerosDecimales:function(t){var e=t.keyCode?t.keyCode:t.which;1==this.inputSeleccionado?!(e<48||e>57)||46===e&&-1==this.suministros.diesel.indexOf(".")||t.preventDefault():2==this.inputSeleccionado?!(e<48||e>57)||46===e&&-1==this.suministros.anticongelante.indexOf(".")||t.preventDefault():!(e<48||e>57)||46===e&&-1==this.suministros.aceite.indexOf(".")||t.preventDefault()},onFocus:function(t){this.inputSeleccionado=t},ValidacionDeDatos:function(){""==this.suministros.diesel&&(this.suministros.diesel=0),""==this.suministros.anticongelante&&(this.suministros.anticongelante=0),""==this.suministros.aceite&&(this.suministros.aceite=0),this.suministros.codEquipo=this.equipoSeleccionado.codigo,this.suministros.codOperador=this.operadorSeleccionado.codigo}}},p=d,f=n("2877"),m=Object(f["a"])(p,o,a,!1,null,"d4f3aeca",null);e["default"]=m.exports},"6cab":function(t,e,n){"use strict";var o=n("572a"),a={obtenerOperadores:function(t){return o["a"].get("/operadores/todos/".concat(t)).then((function(t){return t.data})).catch((function(t){return t}))},obtenerOperadoresEntradasSalidas:function(t){return o["a"].get("/operadores/entradasSalidas/".concat(t)).then((function(t){return t.data})).catch((function(t){return t}))},obtenerTiposOperadores:function(){return o["a"].get("/operadores/tipos").then((function(t){return t.data})).catch((function(t){return t}))},guardarOperador:function(t){return o["a"].post("/operadores/guardar",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).catch((function(t){return t}))}};e["a"]=a},8418:function(t,e,n){"use strict";var o=n("c04e"),a=n("9bf2"),r=n("5c6c");t.exports=function(t,e,n){var i=o(e);i in t?a.f(t,i,r(0,n)):t[i]=n}},"99af":function(t,e,n){"use strict";var o=n("23e7"),a=n("d039"),r=n("e8b5"),i=n("861d"),s=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),p=n("b622"),f=n("2d00"),m=p("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",v=f>=51||!a((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=d("concat"),C=function(t){if(!i(t))return!1;var e=t[m];return void 0!==e?!!e:r(t)},q=!v||!b;o({target:"Array",proto:!0,forced:q},{concat:function(t){var e,n,o,a,r,i=s(this),d=l(i,0),p=0;for(e=-1,o=arguments.length;e<o;e++)if(r=-1===e?i:arguments[e],C(r)){if(a=c(r.length),p+a>h)throw TypeError(g);for(n=0;n<a;n++,p++)n in r&&u(d,p,r[n])}else{if(p>=h)throw TypeError(g);u(d,p++,r)}return d.length=p,d}})},fb6a:function(t,e,n){"use strict";var o=n("23e7"),a=n("861d"),r=n("e8b5"),i=n("23cb"),s=n("50c4"),c=n("fc6a"),u=n("8418"),l=n("b622"),d=n("1dde"),p=n("ae40"),f=d("slice"),m=p("slice",{ACCESSORS:!0,0:0,1:2}),h=l("species"),g=[].slice,v=Math.max;o({target:"Array",proto:!0,forced:!f||!m},{slice:function(t,e){var n,o,l,d=c(this),p=s(d.length),f=i(t,p),m=i(void 0===e?p:e,p);if(r(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?a(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return g.call(d,f,m);for(o=new(void 0===n?Array:n)(v(m-f,0)),l=0;f<m;f++,l++)f in d&&u(o,l,d[f]);return o.length=l,o}})}}]);
//# sourceMappingURL=SuministrosRegistro.60333545.js.map