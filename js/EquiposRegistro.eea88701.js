(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["EquiposRegistro"],{"159b":function(o,t,e){var r=e("da84"),a=e("fdbc"),i=e("17c2"),n=e("9112");for(var c in a){var u=r[c],s=u&&u.prototype;if(s&&s.forEach!==i)try{n(s,"forEach",i)}catch(l){s.forEach=i}}},"17c2":function(o,t,e){"use strict";var r=e("b727").forEach,a=e("a640"),i=e("ae40"),n=a("forEach"),c=i("forEach");o.exports=n&&c?[].forEach:function(o){return r(this,o,arguments.length>1?arguments[1]:void 0)}},"20af":function(o,t,e){"use strict";e("99af");var r=e("572a"),a={equipos:function(o){return null==o||void 0==o||0==o?r["a"].get("/equipos/todos").then((function(o){return o.data})).catch((function(o){return o})):r["a"].get("/equipos/".concat(o)).then((function(o){return console.log("EQUIPO ",o.data),o.data})).catch((function(o){return o}))},guardar:function(o){return console.log(o),r["a"].post("/equipos/guardar",o,{headers:{"Content-Type":"application/json"}}).then((function(o){return o.data})).catch((function(o){return o}))},marcas:function(o){return o=null==o||void 0==o?0:o,r["a"].get("/equipos/marcas/".concat(o)).then((function(o){return o.data})).catch((function(o){return o}))},modelos:function(o){return o=null==o||void 0==o?0:o,r["a"].get("/equipos/modelos/".concat(o)).then((function(o){return o.data})).catch((function(o){return o}))},marcasCombo:function(){return r["a"].get("/equipos/marcasCombo").then((function(o){return o.data})).catch((function(o){return o}))},modelosCombo:function(){return r["a"].get("/equipos/modelosCombo").then((function(o){return o.data})).catch((function(o){return o}))},tanquesDiesel:function(o){return o=null==o||void 0==o?0:o,r["a"].get("/equipos/tanques/".concat(o)).then((function(o){return o.data})).catch((function(o){return o}))},tipoEquipoCombo:function(){return r["a"].get("/equipos/tipoEquipoCombo").then((function(o){return o.data})).catch((function(o){return o}))},obtenerConsumiblesCombo:function(){return r["a"].get("/equipos/consumiblesCombo").then((function(o){return o.data})).catch((function(o){return o}))},guardarMarca:function(o){return r["a"].post("/equipos/guardar/marca",o,{headers:{"Content-Type":"application/json"}}).then((function(o){return o.data})).catch((function(o){return o}))},guardarModelo:function(o){return r["a"].post("/equipos/guardar/modelo",o,{headers:{"Content-Type":"application/json"}}).then((function(o){return o.data})).catch((function(o){return o}))},guardarTanque:function(o){return r["a"].post("/equipos/guardar/tanque",o,{headers:{"Content-Type":"application/json"}}).then((function(o){return o.data})).catch((function(o){return o}))},tiposEquipo:function(o){return o=null==o||void 0==o?0:o,r["a"].get("/equipos/tiposEquipo/".concat(o)).then((function(o){return o.data})).catch((function(o){return o}))},guardarTipoEquipo:function(o){return r["a"].post("/equipos/guardar/tipoEquipo",o,{headers:{"Content-Type":"application/json"}}).then((function(o){return o.data})).catch((function(o){return o}))},entradasSalidas:function(o){return r["a"].get("/equipos/entradasSalidas/".concat(o)).then((function(o){return o.data})).catch((function(o){return o}))},actualizarEstatusEquipo:function(o,t){return r["a"].get("/equipos/actualizar-estatus/".concat(o,"/").concat(t)).then((function(o){return console.log(o),o.data})).catch((function(o){return o}))}};t["a"]=a},4160:function(o,t,e){"use strict";var r=e("23e7"),a=e("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"466d":function(o,t,e){"use strict";var r=e("d784"),a=e("825a"),i=e("50c4"),n=e("1d80"),c=e("8aa5"),u=e("14c3");r("match",1,(function(o,t,e){return[function(t){var e=n(this),r=void 0==t?void 0:t[o];return void 0!==r?r.call(t,e):new RegExp(t)[o](String(e))},function(o){var r=e(t,o,this);if(r.done)return r.value;var n=a(o),s=String(this);if(!n.global)return u(n,s);var l=n.unicode;n.lastIndex=0;var d,f=[],p=0;while(null!==(d=u(n,s))){var m=String(d[0]);f[p]=m,""===m&&(n.lastIndex=c(s,i(n.lastIndex),l)),p++}return 0===p?null:f}]}))},8418:function(o,t,e){"use strict";var r=e("c04e"),a=e("9bf2"),i=e("5c6c");o.exports=function(o,t,e){var n=r(t);n in o?a.f(o,n,i(0,e)):o[n]=e}},"99af":function(o,t,e){"use strict";var r=e("23e7"),a=e("d039"),i=e("e8b5"),n=e("861d"),c=e("7b0b"),u=e("50c4"),s=e("8418"),l=e("65f0"),d=e("1dde"),f=e("b622"),p=e("2d00"),m=f("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",b=p>=51||!a((function(){var o=[];return o[m]=!1,o.concat()[0]!==o})),v=d("concat"),C=function(o){if(!n(o))return!1;var t=o[m];return void 0!==t?!!t:i(o)},q=!b||!v;r({target:"Array",proto:!0,forced:q},{concat:function(o){var t,e,r,a,i,n=c(this),d=l(n,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?n:arguments[t],C(i)){if(a=u(i.length),f+a>h)throw TypeError(g);for(e=0;e<a;e++,f++)e in i&&s(d,f,i[e])}else{if(f>=h)throw TypeError(g);s(d,f++,i)}return d.length=f,d}})},f409:function(o,t,e){"use strict";e.r(t);var r=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{staticClass:"container py-5"},[0==o.parametro?e("h3",[e("i",{staticClass:"fas fa-truck"}),o._v(" Registro de equipos ")]):e("h3",[e("i",{staticClass:"fas fa-truck"}),o._v(" Actualización de equipo "+o._s(this.form.descripcion)+" ")]),e("div",{staticClass:"py-5"},[e("b-form",{on:{submit:o.onSubmit}},[e("b-row",[e("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[e("b-form-group",{attrs:{id:"input-group-4",label:"Marca *","label-for":"cboMarca"}},[e("b-form-select",{attrs:{options:o.marcas,required:"",id:"cboMarca","aria-placeholder":"Seleccione..."},model:{value:o.form.codigoMarca,callback:function(t){o.$set(o.form,"codigoMarca",t)},expression:"form.codigoMarca"}})],1)],1),e("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[e("b-form-group",{attrs:{id:"input-group-4",label:"Modelo *","label-for":"cboModelo"}},[e("b-form-select",{attrs:{options:o.modelos,id:"cboModelo",required:"","aria-placeholder":"Seleccione..."},model:{value:o.form.codigoModelo,callback:function(t){o.$set(o.form,"codigoModelo",t)},expression:"form.codigoModelo"}})],1)],1),e("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[e("b-form-group",{attrs:{id:"input-group-4",label:"Tipo *","label-for":"cboTipo"}},[e("b-form-select",{attrs:{options:o.tiposEquipo,id:"cboTipo",required:"","aria-placeholder":"Seleccione..."},model:{value:o.form.codigoTipoEquipo,callback:function(t){o.$set(o.form,"codigoTipoEquipo",t)},expression:"form.codigoTipoEquipo"}})],1)],1)],1),e("b-row",[e("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[e("b-form-group",{attrs:{id:"input-group-3",label:"Número de serie","label-for":"txtNumeroSerie"}},[e("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtNumeroSerie",type:"text",placeholder:"# de serie",autocomplete:"off"},model:{value:o.form.numeroSerie,callback:function(t){o.$set(o.form,"numeroSerie",t)},expression:"form.numeroSerie"}})],1)],1),e("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[e("b-form-group",{attrs:{id:"input-group-3",label:"Descripción *","label-for":"txtDescripcion"}},[e("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtDescripcion",type:"text",required:"",placeholder:"Descripción",autocomplete:"off"},model:{value:o.form.descripcion,callback:function(t){o.$set(o.form,"descripcion",t)},expression:"form.descripcion"}})],1)],1),e("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[e("b-form-group",{attrs:{id:"input-group-3",label:"Numero Economico *","label-for":"txtIdentificador"}},[e("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtIdentificador",type:"text",required:"",placeholder:"Numero Economico",autocomplete:"off"},model:{value:o.form.identificador,callback:function(t){o.$set(o.form,"identificador",t)},expression:"form.identificador"}})],1)],1)],1),e("b-row",[e("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[e("b-form-group",{attrs:{id:"input-group-3",label:"Número de serie de motor","label-for":"txtNumeroSerieMotor"}},[e("b-form-input",{staticClass:"text-capitalize",attrs:{id:"txtNumeroSerieMotor",type:"text",placeholder:"# de serie de motor",autocomplete:"off"},model:{value:o.form.numeroSerieMotor,callback:function(t){o.$set(o.form,"numeroSerieMotor",t)},expression:"form.numeroSerieMotor"}})],1)],1),o.parametro>0?e("b-col",{staticClass:"col-md-4 col-sm-12 col-12"},[e("b-form-group",{attrs:{label:"Estatus:"}},[e("b-form-checkbox",{attrs:{id:"chckEstatus",name:"chckEstatus",switch:"",size:"lg"},model:{value:o.form.estatus,callback:function(t){o.$set(o.form,"estatus",t)},expression:"form.estatus"}},[o._v(" "+o._s(o.form.estatus?"Activo":"Inactivo")+" ")])],1)],1):o._e()],1),e("b-row",[e("b-col",{staticClass:"col-md-4 col-sm-12 col-12",attrs:{"align-self":"end"}}),e("b-col",{staticClass:"col-md-4 col-sm-12 col-12",attrs:{"align-self":"end"}},[e("b-button",{staticClass:"mr-2 mt-2",attrs:{type:"submit",block:"",variant:"success"}},[e("i",{staticClass:"fa fa-save"}),o._v(" Guardar")])],1),e("b-col",{staticClass:"col-md-4 col-sm-12 col-12",attrs:{"align-self":"end"}},[e("b-button",{staticClass:"mt-2",attrs:{block:"",variant:"danger"},on:{click:o.cancelar}},[e("i",{staticClass:"fas fa-arrow-left"}),o._v(" Cancelar")])],1)],1)],1)],1)])},a=[],i=(e("4160"),e("ac1f"),e("466d"),e("159b"),e("96cf"),e("1da1")),n=e("20af"),c=e("3d20"),u=e.n(c),s={data:function(){return{form:{codigo:0,nombre:"",descripcion:"",identificador:"",estatus:!0,codigoMarca:null,codigoModelo:null,numeroSerie:"",numeroSerieMotor:"",codigoTipoEquipo:null},marcas:[{value:null,text:"Seleccione marca..."}],modelos:[{value:null,text:"Seleccione modelo..."}],tiposEquipo:[{value:null,text:"Seleccione el tipo..."}],parametro:0}},mounted:function(){this.$loading(!0),this.parametro=void 0!=this.$route.params.id?this.$route.params.id:0,console.log("P->",this.parametro),this.resistencia=null,this.consultaMarcas(),this.consultarModelos(),this.cosnsultarTipos(),this.cargaEquipo(),this.$loading(!1)},computed:{validationNombres:function(){var o=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.nombre.match(o)&&this.nombre.length>1)},validationApellidoP:function(){var o=/^[a-zA-Z\u00C0-\u00FF]*$/;return!!(this.apellidoP.match(o)&&this.apellidoP.length>1)}},methods:{onSubmit:function(o){o.preventDefault(),this.guardarEquipo()},limpiar:function(){this.form.tipoResistencia=null,this.form.descripcionCorta="",this.form.descripcion="",this.form.estatus=!1},consultaMarcas:function(){var o=this;n["a"].marcasCombo().then((function(t){t.value&&t.data.forEach((function(t){var e={value:t.codigo,text:t.descripcion};o.marcas.push(e)}))}))},consultarModelos:function(){var o=this;n["a"].modelosCombo().then((function(t){t.value&&t.data.forEach((function(t){var e={value:t.codigo,text:t.descripcion};o.modelos.push(e)}))}))},cosnsultarTipos:function(){var o=this;n["a"].tipoEquipoCombo().then((function(t){t.value&&t.data.forEach((function(t){console.log(t);var e={value:t.codigo,text:t.descripcion};o.tiposEquipo.push(e)}))}))},cargaEquipo:function(){var o=this;this.parametro>0&&(this.$loading(!0),n["a"].equipos(this.parametro).then((function(t){t.value?(console.log(t.data),o.form.nombre=t.data[0].nombre,o.form.descripcion=t.data[0].descripcion,o.form.identificador=t.data[0].identificador,o.form.codigoModelo=t.data[0].codigoModelo,o.form.codigoMarca=t.data[0].codigoMarca,o.form.codigoTipoEquipo=t.data[0].codigoTipoEquipo,o.form.numeroSerie=t.data[0].numeroSerie,o.form.numeroSerieMotor=t.data[0].numeroSerieMotor,o.form.estatus=t.data[0].estatus,o.$loading(!1)):(o.$loading(!1),o.$swal.fire({text:"".concat(t.message),icon:"error"}),setTimeout((function(){o.$router.push({path:"."})}),1e3))})))},guardarEquipo:function(){var o=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.fire({title:"¡ATENCIÓN!",text:"¿Desea guardar el equipo?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:if(e=t.sent,!e.value){t.next=7;break}return r={codigo:o.parametro,nombre:o.form.nombre,descripcion:o.form.descripcion,codigoModelo:o.form.codigoModelo,codigoMarca:o.form.codigoMarca,codigoTipoEquipo:o.form.codigoTipoEquipo,numeroSerie:o.form.numeroSerie,identificador:o.form.identificador,numeroSerieMotor:o.form.numeroSerieMotor,estatus:o.form.estatus},t.next=7,n["a"].guardar(r).then((function(t){t.value?(u.a.fire({text:"".concat(t.message),icon:"success"}),o.$router.push({path:"/catalogos/equipos"})):u.a.fire({text:"No se pudo guardar, contacte a sistemas",icon:"error"})}));case 7:case"end":return t.stop()}}),t)})))()},cancelar:function(){return Object(i["a"])(regeneratorRuntime.mark((function o(){var t;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,u.a.fire({title:"¡ATENCIÓN!",text:"¿Desea cancelar el registro del equipo?",showCancelButton:!0,icon:"question",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"});case 2:t=o.sent,t.value&&window.history.back();case 4:case"end":return o.stop()}}),o)})))()}}},l=s,d=e("2877"),f=Object(d["a"])(l,r,a,!1,null,"3b2c7e74",null);t["default"]=f.exports},fdbc:function(o,t){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=EquiposRegistro.eea88701.js.map