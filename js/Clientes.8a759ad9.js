(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Clientes"],{"159b":function(a,e,o){var t=o("da84"),r=o("fdbc"),i=o("17c2"),s=o("9112");for(var c in r){var n=t[c],l=n&&n.prototype;if(l&&l.forEach!==i)try{s(l,"forEach",i)}catch(d){l.forEach=i}}},"17c2":function(a,e,o){"use strict";var t=o("b727").forEach,r=o("a640"),i=o("ae40"),s=r("forEach"),c=i("forEach");a.exports=s&&c?[].forEach:function(a){return t(this,a,arguments.length>1?arguments[1]:void 0)}},4160:function(a,e,o){"use strict";var t=o("23e7"),r=o("17c2");t({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"595f":function(a,e,o){"use strict";o.r(e);var t=function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"container my-5"},[a._m(0),o("b-modal",{attrs:{id:a.modalEspecial.id,title:a.modalEspecial.title,codigo:a.modalEspecial.codigo},on:{hide:a.resetModalEspecial,show:a.cargarDatosSugeridos,ok:a.aceptarNombreUsuario}},[o("form",{ref:"form",attrs:{autocomplete:"off"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),a.handleSubmit(e)}}},[o("b-form-group",{attrs:{label:"Nombre de usuario","label-for":"txtNombreUsuario","invalid-feedback":"El nombre de usuario es requerido"}},[o("b-form-input",{attrs:{id:"txtNombreUsuario",required:"",autocomplete:"false",disabled:a.modalEspecial.disabled},model:{value:a.form.usuario,callback:function(e){a.$set(a.form,"usuario",e)},expression:"form.usuario"}})],1),o("b-form-group",{attrs:{label:"Contraseña de usuario","label-for":"txtContraseña","invalid-feedback":"La contraseña es requerida"}},[o("b-form-input",{attrs:{id:"txtContraseña",type:"password",required:"",autocomplete:"new-password",disabled:a.modalEspecial.disabled},model:{value:a.form.contraseña,callback:function(e){a.$set(a.form,"contraseña",e)},expression:"form.contraseña"}}),o("b-form-text",[a._v(" El usuario y la contraseña son recomendadas por el sistema. "),o("br"),a._v(" Las puede cambiar. ")])],1)],1)]),o("table-sortable",{attrs:{items:a.items,fields:a.fields,rutaNuevo:a.rutaNuevo,modalEspecial:a.modalEspecial,permisoEscritura:a.permisoEscritura}})],1)])},r=[function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("div",{staticClass:"my-5"},[o("h3",[o("i",{staticClass:"fas fa-users"}),a._v(" Clientes")])])}],i=(o("7db0"),o("4160"),o("159b"),o("7230")),s=o("65a8"),c={data:function(){return{form:{usuario:"","contraseña":"",codigo:0},modalEspecial:{id:"modal-especial",title:"",content:"",codigo:"",disabled:!1},rutaNuevo:"clientes/registro/",items:[],fields:[{key:"codigoNombreComercial",label:"Nombre comercial",sortable:!0,sortDirection:"desc"},{key:"nombreVendedor",label:"Vendedor",sortable:!0,sortDirection:"desc"},{key:"creditoFormat",label:"Crédito",sortable:!0,class:"text-center"},{key:"fechaCorta",label:"Registro",sortable:!0,class:"text-center"},{key:"credito",label:"Crédito Utilizado",sortable:!0,class:"text-center"},{key:"sendWS",label:"Contactar",class:"text-center"},{key:"actions",label:"Acciones",class:"text-center"}],permisoEscritura:!0}},components:{TableSortable:i["a"]},mounted:function(){this.consultarClientes()},methods:{resetModalEspecial:function(){this.modalEspecial.title="",this.modalEspecial.disabled=!1},cargarDatosSugeridos:function(){var a=this;this.$loading(!0),s["a"].sugerirUsuario(this.modalEspecial.codigo).then((function(e){e.value?(console.log(e.data),a.form.usuario=e.data[0].usuario,a.form.contraseña=e.data[0].contraseña,a.form.codigo=a.modalEspecial.codigo,a.$loading(!1)):(s["a"].obtenerUsuario(a.modalEspecial.codigo).then((function(e){a.form.usuario=e.data[0].usuario,a.form.contraseña=e.data[0].contraseña,a.modalEspecial.disabled=!0})),a.$loading(!1))})).catch((function(a){console.error(a)}))},aceptarNombreUsuario:function(){var a=this;this.$loading(!0);var e=this.form;s["a"].guardarUsuario(e).then((function(e){a.$loading(!1),e.value?(a.$swal.fire({text:e.message,icon:"success"}),a.consultarClientes()):a.$swal.fire({text:e.message,icon:"warning"})})).catch((function(a){console.error(a)}))},consultarClientes:function(){var a=this;this.$loading(!0),s["a"].clientes().then((function(e){console.log(e),a.items=e.data.cliente,a.items.forEach((function(a){var o=e.data.datosCredito;a.creditoFormat=o.find((function(e){return e.codCliente==a.codigo})).creditoFormato})),a.$loading(!1)})).catch((function(e){console.log(e),a.$loading(!1)}))}}},n=c,l=o("2877"),d=Object(l["a"])(n,t,r,!1,null,"2379d4b2",null);e["default"]=d.exports},"7db0":function(a,e,o){"use strict";var t=o("23e7"),r=o("b727").find,i=o("44d2"),s=o("ae40"),c="find",n=!0,l=s(c);c in[]&&Array(1)[c]((function(){n=!1})),t({target:"Array",proto:!0,forced:n||!l},{find:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}}),i(c)}}]);
//# sourceMappingURL=Clientes.8a759ad9.js.map